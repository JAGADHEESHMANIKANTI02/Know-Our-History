(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();function ep(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function tp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var s=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),s}var Nl={exports:{}},ns={},Pl={exports:{}},se={};var td;function rp(){if(td)return se;td=1;var u=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function j(S){return S===null||typeof S!="object"?null:(S=k&&S[k]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,U={};function D(S,O,re){this.props=S,this.context=O,this.refs=U,this.updater=re||T}D.prototype.isReactComponent={},D.prototype.setState=function(S,O){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,O,"setState")},D.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function z(){}z.prototype=D.prototype;function Z(S,O,re){this.props=S,this.context=O,this.refs=U,this.updater=re||T}var B=Z.prototype=new z;B.constructor=Z,I(B,D.prototype),B.isPureReactComponent=!0;var L=Array.isArray,te=Object.prototype.hasOwnProperty,N={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Ce(S,O,re){var ie,ae={},ue=null,fe=null;if(O!=null)for(ie in O.ref!==void 0&&(fe=O.ref),O.key!==void 0&&(ue=""+O.key),O)te.call(O,ie)&&!ne.hasOwnProperty(ie)&&(ae[ie]=O[ie]);var de=arguments.length-2;if(de===1)ae.children=re;else if(1<de){for(var ye=Array(de),tt=0;tt<de;tt++)ye[tt]=arguments[tt+2];ae.children=ye}if(S&&S.defaultProps)for(ie in de=S.defaultProps,de)ae[ie]===void 0&&(ae[ie]=de[ie]);return{$$typeof:u,type:S,key:ue,ref:fe,props:ae,_owner:N.current}}function Wt(S,O){return{$$typeof:u,type:S.type,key:O,ref:S.ref,props:S.props,_owner:S._owner}}function Ot(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function fr(S){var O={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(re){return O[re]})}var St=/\/+/g;function et(S,O){return typeof S=="object"&&S!==null&&S.key!=null?fr(""+S.key):O.toString(36)}function ft(S,O,re,ie,ae){var ue=typeof S;(ue==="undefined"||ue==="boolean")&&(S=null);var fe=!1;if(S===null)fe=!0;else switch(ue){case"string":case"number":fe=!0;break;case"object":switch(S.$$typeof){case u:case n:fe=!0}}if(fe)return fe=S,ae=ae(fe),S=ie===""?"."+et(fe,0):ie,L(ae)?(re="",S!=null&&(re=S.replace(St,"$&/")+"/"),ft(ae,O,re,"",function(tt){return tt})):ae!=null&&(Ot(ae)&&(ae=Wt(ae,re+(!ae.key||fe&&fe.key===ae.key?"":(""+ae.key).replace(St,"$&/")+"/")+S)),O.push(ae)),1;if(fe=0,ie=ie===""?".":ie+":",L(S))for(var de=0;de<S.length;de++){ue=S[de];var ye=ie+et(ue,de);fe+=ft(ue,O,re,ye,ae)}else if(ye=j(S),typeof ye=="function")for(S=ye.call(S),de=0;!(ue=S.next()).done;)ue=ue.value,ye=ie+et(ue,de++),fe+=ft(ue,O,re,ye,ae);else if(ue==="object")throw O=String(S),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return fe}function Et(S,O,re){if(S==null)return S;var ie=[],ae=0;return ft(S,ie,"","",function(ue){return O.call(re,ue,ae++)}),ie}function Ke(S){if(S._status===-1){var O=S._result;O=O(),O.then(function(re){(S._status===0||S._status===-1)&&(S._status=1,S._result=re)},function(re){(S._status===0||S._status===-1)&&(S._status=2,S._result=re)}),S._status===-1&&(S._status=0,S._result=O)}if(S._status===1)return S._result.default;throw S._result}var xe={current:null},F={transition:null},Y={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:F,ReactCurrentOwner:N};function H(){throw Error("act(...) is not supported in production builds of React.")}return se.Children={map:Et,forEach:function(S,O,re){Et(S,function(){O.apply(this,arguments)},re)},count:function(S){var O=0;return Et(S,function(){O++}),O},toArray:function(S){return Et(S,function(O){return O})||[]},only:function(S){if(!Ot(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},se.Component=D,se.Fragment=s,se.Profiler=a,se.PureComponent=Z,se.StrictMode=o,se.Suspense=g,se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,se.act=H,se.cloneElement=function(S,O,re){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ie=I({},S.props),ae=S.key,ue=S.ref,fe=S._owner;if(O!=null){if(O.ref!==void 0&&(ue=O.ref,fe=N.current),O.key!==void 0&&(ae=""+O.key),S.type&&S.type.defaultProps)var de=S.type.defaultProps;for(ye in O)te.call(O,ye)&&!ne.hasOwnProperty(ye)&&(ie[ye]=O[ye]===void 0&&de!==void 0?de[ye]:O[ye])}var ye=arguments.length-2;if(ye===1)ie.children=re;else if(1<ye){de=Array(ye);for(var tt=0;tt<ye;tt++)de[tt]=arguments[tt+2];ie.children=de}return{$$typeof:u,type:S.type,key:ae,ref:ue,props:ie,_owner:fe}},se.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:d,_context:S},S.Consumer=S},se.createElement=Ce,se.createFactory=function(S){var O=Ce.bind(null,S);return O.type=S,O},se.createRef=function(){return{current:null}},se.forwardRef=function(S){return{$$typeof:p,render:S}},se.isValidElement=Ot,se.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:Ke}},se.memo=function(S,O){return{$$typeof:w,type:S,compare:O===void 0?null:O}},se.startTransition=function(S){var O=F.transition;F.transition={};try{S()}finally{F.transition=O}},se.unstable_act=H,se.useCallback=function(S,O){return xe.current.useCallback(S,O)},se.useContext=function(S){return xe.current.useContext(S)},se.useDebugValue=function(){},se.useDeferredValue=function(S){return xe.current.useDeferredValue(S)},se.useEffect=function(S,O){return xe.current.useEffect(S,O)},se.useId=function(){return xe.current.useId()},se.useImperativeHandle=function(S,O,re){return xe.current.useImperativeHandle(S,O,re)},se.useInsertionEffect=function(S,O){return xe.current.useInsertionEffect(S,O)},se.useLayoutEffect=function(S,O){return xe.current.useLayoutEffect(S,O)},se.useMemo=function(S,O){return xe.current.useMemo(S,O)},se.useReducer=function(S,O,re){return xe.current.useReducer(S,O,re)},se.useRef=function(S){return xe.current.useRef(S)},se.useState=function(S){return xe.current.useState(S)},se.useSyncExternalStore=function(S,O,re){return xe.current.useSyncExternalStore(S,O,re)},se.useTransition=function(){return xe.current.useTransition()},se.version="18.3.1",se}var rd;function ta(){return rd||(rd=1,Pl.exports=rp()),Pl.exports}var nd;function np(){if(nd)return ns;nd=1;var u=ta(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,w){var y,k={},j=null,T=null;w!==void 0&&(j=""+w),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(T=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(k[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)k[y]===void 0&&(k[y]=g[y]);return{$$typeof:n,type:p,key:j,ref:T,props:k,_owner:a.current}}return ns.Fragment=s,ns.jsx=h,ns.jsxs=h,ns}var sd;function sp(){return sd||(sd=1,Nl.exports=np()),Nl.exports}var m=sp(),G=ta(),Si={},Ol={exports:{}},Ze={},Rl={exports:{}},Al={};var id;function ip(){return id||(id=1,(function(u){function n(F,Y){var H=F.length;F.push(Y);e:for(;0<H;){var S=H-1>>>1,O=F[S];if(0<a(O,Y))F[S]=Y,F[H]=O,H=S;else break e}}function s(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var Y=F[0],H=F.pop();if(H!==Y){F[0]=H;e:for(var S=0,O=F.length,re=O>>>1;S<re;){var ie=2*(S+1)-1,ae=F[ie],ue=ie+1,fe=F[ue];if(0>a(ae,H))ue<O&&0>a(fe,ae)?(F[S]=fe,F[ue]=H,S=ue):(F[S]=ae,F[ie]=H,S=ie);else if(ue<O&&0>a(fe,H))F[S]=fe,F[ue]=H,S=ue;else break e}}return Y}function a(F,Y){var H=F.sortIndex-Y.sortIndex;return H!==0?H:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();u.unstable_now=function(){return h.now()-p}}var g=[],w=[],y=1,k=null,j=3,T=!1,I=!1,U=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(F){for(var Y=s(w);Y!==null;){if(Y.callback===null)o(w);else if(Y.startTime<=F)o(w),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(w)}}function L(F){if(U=!1,B(F),!I)if(s(g)!==null)I=!0,Ke(te);else{var Y=s(w);Y!==null&&xe(L,Y.startTime-F)}}function te(F,Y){I=!1,U&&(U=!1,z(Ce),Ce=-1),T=!0;var H=j;try{for(B(Y),k=s(g);k!==null&&(!(k.expirationTime>Y)||F&&!fr());){var S=k.callback;if(typeof S=="function"){k.callback=null,j=k.priorityLevel;var O=S(k.expirationTime<=Y);Y=u.unstable_now(),typeof O=="function"?k.callback=O:k===s(g)&&o(g),B(Y)}else o(g);k=s(g)}if(k!==null)var re=!0;else{var ie=s(w);ie!==null&&xe(L,ie.startTime-Y),re=!1}return re}finally{k=null,j=H,T=!1}}var N=!1,ne=null,Ce=-1,Wt=5,Ot=-1;function fr(){return!(u.unstable_now()-Ot<Wt)}function St(){if(ne!==null){var F=u.unstable_now();Ot=F;var Y=!0;try{Y=ne(!0,F)}finally{Y?et():(N=!1,ne=null)}}else N=!1}var et;if(typeof Z=="function")et=function(){Z(St)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Et=ft.port2;ft.port1.onmessage=St,et=function(){Et.postMessage(null)}}else et=function(){D(St,0)};function Ke(F){ne=F,N||(N=!0,et())}function xe(F,Y){Ce=D(function(){F(u.unstable_now())},Y)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(F){F.callback=null},u.unstable_continueExecution=function(){I||T||(I=!0,Ke(te))},u.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wt=0<F?Math.floor(1e3/F):5},u.unstable_getCurrentPriorityLevel=function(){return j},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function(F){switch(j){case 1:case 2:case 3:var Y=3;break;default:Y=j}var H=j;j=Y;try{return F()}finally{j=H}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=j;j=F;try{return Y()}finally{j=H}},u.unstable_scheduleCallback=function(F,Y,H){var S=u.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?S+H:S):H=S,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=H+O,F={id:y++,callback:Y,priorityLevel:F,startTime:H,expirationTime:O,sortIndex:-1},H>S?(F.sortIndex=H,n(w,F),s(g)===null&&F===s(w)&&(U?(z(Ce),Ce=-1):U=!0,xe(L,H-S))):(F.sortIndex=O,n(g,F),I||T||(I=!0,Ke(te))),F},u.unstable_shouldYield=fr,u.unstable_wrapCallback=function(F){var Y=j;return function(){var H=j;j=Y;try{return F.apply(this,arguments)}finally{j=H}}}})(Al)),Al}var od;function op(){return od||(od=1,Rl.exports=ip()),Rl.exports}var ld;function lp(){if(ld)return Ze;ld=1;var u=ta(),n=op();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function j(e){return g.call(k,e)?!0:g.call(y,e)?!1:w.test(e)?k[e]=!0:(y[e]=!0,!1)}function T(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,r,i){if(t===null||typeof t>"u"||T(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,r,i,l,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){D[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];D[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){D[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){D[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){D[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){D[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){D[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){D[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){D[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,Z);D[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,Z);D[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,Z);D[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){D[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),D.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){D[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,r,i){var l=D.hasOwnProperty(t)?D[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,r,l,i)&&(r=null),i||l===null?j(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var L=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),N=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),Wt=Symbol.for("react.profiler"),Ot=Symbol.for("react.provider"),fr=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),Et=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),F=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,S;function O(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var re=!1;function ie(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var i=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){i=C}e.call(t.prototype)}else{try{throw Error()}catch(C){i=C}e()}}catch(C){if(C&&i&&typeof C.stack=="string"){for(var l=C.stack.split(`
`),c=i.stack.split(`
`),f=l.length-1,v=c.length-1;1<=f&&0<=v&&l[f]!==c[v];)v--;for(;1<=f&&0<=v;f--,v--)if(l[f]!==c[v]){if(f!==1||v!==1)do if(f--,v--,0>v||l[f]!==c[v]){var _=`
`+l[f].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=f&&0<=v);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?O(e):""}function ae(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case N:return"Portal";case Wt:return"Profiler";case Ce:return"StrictMode";case et:return"Suspense";case ft:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fr:return(e.displayName||"Context")+".Consumer";case Ot:return(e._context.displayName||"Context")+".Provider";case St:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Et:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case Ke:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===Ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=ye(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){i=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=tt(e))}function la(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=ye(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Li(e,t){var r=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function aa(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=de(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ua(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function $i(e,t){ua(e,t);var r=de(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ui(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ui(e,t.type,de(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ca(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ui(e,t,r){(t!=="number"||ps(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yn=Array.isArray;function Rr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+de(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Di(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function da(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(yn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:de(r)}}function ha(e,t){var r=de(t.value),i=de(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function fa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,ga=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nh=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(e){nh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_n[t]=_n[e]})});function ma(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_n.hasOwnProperty(e)&&_n[e]?(""+t).trim():t+"px"}function va(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=ma(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var sh=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(e,t){if(t){if(sh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function zi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Ar=null,Ir=null;function ya(e){if(e=Bn(e)){if(typeof Hi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ds(t),Hi(e.stateNode,e.type,t))}}function wa(e){Ar?Ir?Ir.push(e):Ir=[e]:Ar=e}function _a(){if(Ar){var e=Ar,t=Ir;if(Ir=Ar=null,ya(e),t)for(e=0;e<t.length;e++)ya(t[e])}}function ka(e,t){return e(t)}function xa(){}var qi=!1;function Sa(e,t,r){if(qi)return e(t,r);qi=!0;try{return ka(e,t,r)}finally{qi=!1,(Ar!==null||Ir!==null)&&(xa(),_a())}}function kn(e,t){var r=e.stateNode;if(r===null)return null;var i=Ds(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Vi=!1;if(p)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Vi=!1}function ih(e,t,r,i,l,c,f,v,_){var C=Array.prototype.slice.call(arguments,3);try{t.apply(r,C)}catch(R){this.onError(R)}}var Sn=!1,ms=null,vs=!1,Ki=null,oh={onError:function(e){Sn=!0,ms=e}};function lh(e,t,r,i,l,c,f,v,_){Sn=!1,ms=null,ih.apply(oh,arguments)}function ah(e,t,r,i,l,c,f,v,_){if(lh.apply(this,arguments),Sn){if(Sn){var C=ms;Sn=!1,ms=null}else throw Error(s(198));vs||(vs=!0,Ki=C)}}function pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ea(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(pr(e)!==e)throw Error(s(188))}function uh(e){var t=e.alternate;if(!t){if(t=pr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var c=l.alternate;if(c===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===r)return ba(l),e;if(c===i)return ba(l),t;c=c.sibling}throw Error(s(188))}if(r.return!==i.return)r=l,i=c;else{for(var f=!1,v=l.child;v;){if(v===r){f=!0,r=l,i=c;break}if(v===i){f=!0,i=l,r=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===r){f=!0,r=c,i=l;break}if(v===i){f=!0,i=c,r=l;break}v=v.sibling}if(!f)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function ja(e){return e=uh(e),e!==null?Ca(e):null}function Ca(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ca(e);if(t!==null)return t;e=e.sibling}return null}var Ta=n.unstable_scheduleCallback,Na=n.unstable_cancelCallback,ch=n.unstable_shouldYield,dh=n.unstable_requestPaint,Ee=n.unstable_now,hh=n.unstable_getCurrentPriorityLevel,Ji=n.unstable_ImmediatePriority,Pa=n.unstable_UserBlockingPriority,ys=n.unstable_NormalPriority,fh=n.unstable_LowPriority,Oa=n.unstable_IdlePriority,ws=null,bt=null;function ph(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(ws,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:vh,gh=Math.log,mh=Math.LN2;function vh(e){return e>>>=0,e===0?32:31-(gh(e)/mh|0)|0}var _s=64,ks=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,c=e.pingedLanes,f=r&268435455;if(f!==0){var v=f&~l;v!==0?i=En(v):(c&=f,c!==0&&(i=En(c)))}else f=r&~l,f!==0?i=En(f):c!==0&&(i=En(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-pt(t),l=1<<r,i|=e[r],t&=~l;return i}function yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-pt(c),v=1<<f,_=l[f];_===-1?((v&r)===0||(v&i)!==0)&&(l[f]=yh(v,t)):_<=t&&(e.expiredLanes|=v),c&=~v}}function Qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ra(){var e=_s;return _s<<=1,(_s&4194240)===0&&(_s=64),e}function Gi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=r}function _h(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-pt(r),c=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~c}}function Yi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-pt(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var he=0;function Aa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ia,Xi,La,$a,Ua,Zi=!1,Ss=[],Ht=null,qt=null,Vt=null,jn=new Map,Cn=new Map,Kt=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Da(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function Tn(e,t,r,i,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Bn(t),t!==null&&Xi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function xh(e,t,r,i,l){switch(t){case"focusin":return Ht=Tn(Ht,e,t,r,i,l),!0;case"dragenter":return qt=Tn(qt,e,t,r,i,l),!0;case"mouseover":return Vt=Tn(Vt,e,t,r,i,l),!0;case"pointerover":var c=l.pointerId;return jn.set(c,Tn(jn.get(c)||null,e,t,r,i,l)),!0;case"gotpointercapture":return c=l.pointerId,Cn.set(c,Tn(Cn.get(c)||null,e,t,r,i,l)),!0}return!1}function Fa(e){var t=gr(e.target);if(t!==null){var r=pr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ea(r),t!==null){e.blockedOn=t,Ua(e.priority,function(){La(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=to(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Bi=i,r.target.dispatchEvent(i),Bi=null}else return t=Bn(r),t!==null&&Xi(t),e.blockedOn=r,!1;t.shift()}return!0}function Ma(e,t,r){Es(e)&&r.delete(t)}function Sh(){Zi=!1,Ht!==null&&Es(Ht)&&(Ht=null),qt!==null&&Es(qt)&&(qt=null),Vt!==null&&Es(Vt)&&(Vt=null),jn.forEach(Ma),Cn.forEach(Ma)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sh)))}function Pn(e){function t(l){return Nn(l,e)}if(0<Ss.length){Nn(Ss[0],e);for(var r=1;r<Ss.length;r++){var i=Ss[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Ht!==null&&Nn(Ht,e),qt!==null&&Nn(qt,e),Vt!==null&&Nn(Vt,e),jn.forEach(t),Cn.forEach(t),r=0;r<Kt.length;r++)i=Kt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)Fa(r),r.blockedOn===null&&Kt.shift()}var Lr=L.ReactCurrentBatchConfig,bs=!0;function Eh(e,t,r,i){var l=he,c=Lr.transition;Lr.transition=null;try{he=1,eo(e,t,r,i)}finally{he=l,Lr.transition=c}}function bh(e,t,r,i){var l=he,c=Lr.transition;Lr.transition=null;try{he=4,eo(e,t,r,i)}finally{he=l,Lr.transition=c}}function eo(e,t,r,i){if(bs){var l=to(e,t,r,i);if(l===null)wo(e,t,i,js,r),Da(e,i);else if(xh(l,e,t,r,i))i.stopPropagation();else if(Da(e,i),t&4&&-1<kh.indexOf(e)){for(;l!==null;){var c=Bn(l);if(c!==null&&Ia(c),c=to(e,t,r,i),c===null&&wo(e,t,i,js,r),c===l)break;l=c}l!==null&&i.stopPropagation()}else wo(e,t,i,null,r)}}var js=null;function to(e,t,r,i){if(js=null,e=Wi(i),e=gr(e),e!==null)if(t=pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ea(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function za(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hh()){case Ji:return 1;case Pa:return 4;case ys:case fh:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var Jt=null,ro=null,Cs=null;function Ba(){if(Cs)return Cs;var e,t=ro,r=t.length,i,l="value"in Jt?Jt.value:Jt.textContent,c=l.length;for(e=0;e<r&&t[e]===l[e];e++);var f=r-e;for(i=1;i<=f&&t[r-i]===l[c-i];i++);return Cs=l.slice(e,1<i?1-i:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Wa(){return!1}function rt(e){function t(r,i,l,c,f){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ns:Wa,this.isPropagationStopped=Wa,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=rt($r),On=H({},$r,{view:0,detail:0}),jh=rt(On),so,io,Rn,Ps=H({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(so=e.screenX-Rn.screenX,io=e.screenY-Rn.screenY):io=so=0,Rn=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Ha=rt(Ps),Ch=H({},Ps,{dataTransfer:0}),Th=rt(Ch),Nh=H({},On,{relatedTarget:0}),oo=rt(Nh),Ph=H({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),Oh=rt(Ph),Rh=H({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ah=rt(Rh),Ih=H({},$r,{data:0}),qa=rt(Ih),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uh[e])?!!t[e]:!1}function lo(){return Dh}var Fh=H({},On,{key:function(e){if(e.key){var t=Lh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$h[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mh=rt(Fh),zh=H({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=rt(zh),Bh=H({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Wh=rt(Bh),Hh=H({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),qh=rt(Hh),Vh=H({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kh=rt(Vh),Jh=[9,13,27,32],ao=p&&"CompositionEvent"in window,An=null;p&&"documentMode"in document&&(An=document.documentMode);var Qh=p&&"TextEvent"in window&&!An,Ka=p&&(!ao||An&&8<An&&11>=An),Ja=" ",Qa=!1;function Ga(e,t){switch(e){case"keyup":return Jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function Gh(e,t){switch(e){case"compositionend":return Ya(t);case"keypress":return t.which!==32?null:(Qa=!0,Ja);case"textInput":return e=t.data,e===Ja&&Qa?null:e;default:return null}}function Yh(e,t){if(Ur)return e==="compositionend"||!ao&&Ga(e,t)?(e=Ba(),Cs=ro=Jt=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ka&&t.locale!=="ko"?null:t.data;default:return null}}var Xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xh[e.type]:t==="textarea"}function Za(e,t,r,i){wa(i),t=Ls(t,"onChange"),0<t.length&&(r=new no("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var In=null,Ln=null;function Zh(e){vu(e,0)}function Os(e){var t=Br(e);if(la(t))return e}function ef(e,t){if(e==="change")return t}var eu=!1;if(p){var uo;if(p){var co="oninput"in document;if(!co){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),co=typeof tu.oninput=="function"}uo=co}else uo=!1;eu=uo&&(!document.documentMode||9<document.documentMode)}function ru(){In&&(In.detachEvent("onpropertychange",nu),Ln=In=null)}function nu(e){if(e.propertyName==="value"&&Os(Ln)){var t=[];Za(t,Ln,e,Wi(e)),Sa(Zh,t)}}function tf(e,t,r){e==="focusin"?(ru(),In=t,Ln=r,In.attachEvent("onpropertychange",nu)):e==="focusout"&&ru()}function rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Os(Ln)}function nf(e,t){if(e==="click")return Os(t)}function sf(e,t){if(e==="input"||e==="change")return Os(t)}function of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:of;function $n(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!g.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var r=su(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=su(r)}}function ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(){for(var e=window,t=ps();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ps(e.document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lf(e){var t=lu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ou(r.ownerDocument.documentElement,r)){if(i!==null&&ho(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,c=Math.min(i.start,l);i=i.end===void 0?c:Math.min(i.end,l),!e.extend&&c>i&&(l=i,i=c,c=l),l=iu(r,c);var f=iu(r,i);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var af=p&&"documentMode"in document&&11>=document.documentMode,Dr=null,fo=null,Un=null,po=!1;function au(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;po||Dr==null||Dr!==ps(i)||(i=Dr,"selectionStart"in i&&ho(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Un&&$n(Un,i)||(Un=i,i=Ls(fo,"onSelect"),0<i.length&&(t=new no("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Dr)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},go={},uu={};p&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function As(e){if(go[e])return go[e];if(!Fr[e])return e;var t=Fr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uu)return go[e]=t[r];return e}var cu=As("animationend"),du=As("animationiteration"),hu=As("animationstart"),fu=As("transitionend"),pu=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){pu.set(e,t),d(t,[e])}for(var mo=0;mo<gu.length;mo++){var vo=gu[mo],uf=vo.toLowerCase(),cf=vo[0].toUpperCase()+vo.slice(1);Qt(uf,"on"+cf)}Qt(cu,"onAnimationEnd"),Qt(du,"onAnimationIteration"),Qt(hu,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(fu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),df=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function mu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,ah(i,t,void 0,e),e.currentTarget=null}function vu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var f=i.length-1;0<=f;f--){var v=i[f],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==c&&l.isPropagationStopped())break e;mu(l,v,C),c=_}else for(f=0;f<i.length;f++){if(v=i[f],_=v.instance,C=v.currentTarget,v=v.listener,_!==c&&l.isPropagationStopped())break e;mu(l,v,C),c=_}}}if(vs)throw e=Ki,vs=!1,Ki=null,e}function me(e,t){var r=t[bo];r===void 0&&(r=t[bo]=new Set);var i=e+"__bubble";r.has(i)||(yu(t,e,2,!1),r.add(i))}function yo(e,t,r){var i=0;t&&(i|=4),yu(r,e,i,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[Is]){e[Is]=!0,o.forEach(function(r){r!=="selectionchange"&&(df.has(r)||yo(r,!1,e),yo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,yo("selectionchange",!1,t))}}function yu(e,t,r,i){switch(za(t)){case 1:var l=Eh;break;case 4:l=bh;break;default:l=eo}r=l.bind(null,t,r,e),l=void 0,!Vi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function wo(e,t,r,i,l){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var v=i.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(f===4)for(f=i.return;f!==null;){var _=f.tag;if((_===3||_===4)&&(_=f.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;f=f.return}for(;v!==null;){if(f=gr(v),f===null)return;if(_=f.tag,_===5||_===6){i=c=f;continue e}v=v.parentNode}}i=i.return}Sa(function(){var C=c,R=Wi(r),A=[];e:{var P=pu.get(e);if(P!==void 0){var M=no,q=e;switch(e){case"keypress":if(Ts(r)===0)break e;case"keydown":case"keyup":M=Mh;break;case"focusin":q="focus",M=oo;break;case"focusout":q="blur",M=oo;break;case"beforeblur":case"afterblur":M=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Wh;break;case cu:case du:case hu:M=Oh;break;case fu:M=qh;break;case"scroll":M=jh;break;case"wheel":M=Kh;break;case"copy":case"cut":case"paste":M=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Va}var V=(t&4)!==0,be=!V&&e==="scroll",E=V?P!==null?P+"Capture":null:P;V=[];for(var x=C,b;x!==null;){b=x;var $=b.stateNode;if(b.tag===5&&$!==null&&(b=$,E!==null&&($=kn(x,E),$!=null&&V.push(Mn(x,$,b)))),be)break;x=x.return}0<V.length&&(P=new M(P,q,null,r,R),A.push({event:P,listeners:V}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",P&&r!==Bi&&(q=r.relatedTarget||r.fromElement)&&(gr(q)||q[Rt]))break e;if((M||P)&&(P=R.window===R?R:(P=R.ownerDocument)?P.defaultView||P.parentWindow:window,M?(q=r.relatedTarget||r.toElement,M=C,q=q?gr(q):null,q!==null&&(be=pr(q),q!==be||q.tag!==5&&q.tag!==6)&&(q=null)):(M=null,q=C),M!==q)){if(V=Ha,$="onMouseLeave",E="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(V=Va,$="onPointerLeave",E="onPointerEnter",x="pointer"),be=M==null?P:Br(M),b=q==null?P:Br(q),P=new V($,x+"leave",M,r,R),P.target=be,P.relatedTarget=b,$=null,gr(R)===C&&(V=new V(E,x+"enter",q,r,R),V.target=b,V.relatedTarget=be,$=V),be=$,M&&q)t:{for(V=M,E=q,x=0,b=V;b;b=Mr(b))x++;for(b=0,$=E;$;$=Mr($))b++;for(;0<x-b;)V=Mr(V),x--;for(;0<b-x;)E=Mr(E),b--;for(;x--;){if(V===E||E!==null&&V===E.alternate)break t;V=Mr(V),E=Mr(E)}V=null}else V=null;M!==null&&wu(A,P,M,V,!1),q!==null&&be!==null&&wu(A,be,q,V,!0)}}e:{if(P=C?Br(C):window,M=P.nodeName&&P.nodeName.toLowerCase(),M==="select"||M==="input"&&P.type==="file")var K=ef;else if(Xa(P))if(eu)K=sf;else{K=rf;var J=tf}else(M=P.nodeName)&&M.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(K=nf);if(K&&(K=K(e,C))){Za(A,K,r,R);break e}J&&J(e,P,C),e==="focusout"&&(J=P._wrapperState)&&J.controlled&&P.type==="number"&&Ui(P,"number",P.value)}switch(J=C?Br(C):window,e){case"focusin":(Xa(J)||J.contentEditable==="true")&&(Dr=J,fo=C,Un=null);break;case"focusout":Un=fo=Dr=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,au(A,r,R);break;case"selectionchange":if(af)break;case"keydown":case"keyup":au(A,r,R)}var Q;if(ao)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ur?Ga(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(Ka&&r.locale!=="ko"&&(Ur||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ur&&(Q=Ba()):(Jt=R,ro="value"in Jt?Jt.value:Jt.textContent,Ur=!0)),J=Ls(C,X),0<J.length&&(X=new qa(X,e,null,r,R),A.push({event:X,listeners:J}),Q?X.data=Q:(Q=Ya(r),Q!==null&&(X.data=Q)))),(Q=Qh?Gh(e,r):Yh(e,r))&&(C=Ls(C,"onBeforeInput"),0<C.length&&(R=new qa("onBeforeInput","beforeinput",null,r,R),A.push({event:R,listeners:C}),R.data=Q))}vu(A,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ls(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=kn(e,r),c!=null&&i.unshift(Mn(e,c,l)),c=kn(e,t),c!=null&&i.push(Mn(e,c,l))),e=e.return}return i}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wu(e,t,r,i,l){for(var c=t._reactName,f=[];r!==null&&r!==i;){var v=r,_=v.alternate,C=v.stateNode;if(_!==null&&_===i)break;v.tag===5&&C!==null&&(v=C,l?(_=kn(r,c),_!=null&&f.unshift(Mn(r,_,v))):l||(_=kn(r,c),_!=null&&f.push(Mn(r,_,v)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var hf=/\r\n?/g,ff=/\u0000|\uFFFD/g;function _u(e){return(typeof e=="string"?e:""+e).replace(hf,`
`).replace(ff,"")}function $s(e,t,r){if(t=_u(t),_u(e)!==t&&r)throw Error(s(425))}function Us(){}var _o=null,ko=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,pf=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(mf)}:So;function mf(e){setTimeout(function(){throw e})}function Eo(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),Pn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);Pn(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),jt="__reactFiber$"+zr,zn="__reactProps$"+zr,Rt="__reactContainer$"+zr,bo="__reactEvents$"+zr,vf="__reactListeners$"+zr,yf="__reactHandles$"+zr;function gr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xu(e);e!==null;){if(r=e[jt])return r;e=xu(e)}return t}e=r,r=e.parentNode}return null}function Bn(e){return e=e[jt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ds(e){return e[zn]||null}var jo=[],Wr=-1;function Yt(e){return{current:e}}function ve(e){0>Wr||(e.current=jo[Wr],jo[Wr]=null,Wr--)}function pe(e,t){Wr++,jo[Wr]=e.current,e.current=t}var Xt={},De=Yt(Xt),Je=Yt(!1),mr=Xt;function Hr(e,t){var r=e.type.contextTypes;if(!r)return Xt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in r)l[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Qe(e){return e=e.childContextTypes,e!=null}function Fs(){ve(Je),ve(De)}function Su(e,t,r){if(De.current!==Xt)throw Error(s(168));pe(De,t),pe(Je,r)}function Eu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,fe(e)||"Unknown",l));return H({},r,i)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,mr=De.current,pe(De,e),pe(Je,Je.current),!0}function bu(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Eu(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,ve(Je),ve(De),pe(De,e)):ve(Je),pe(Je,r)}var At=null,zs=!1,Co=!1;function ju(e){At===null?At=[e]:At.push(e)}function wf(e){zs=!0,ju(e)}function Zt(){if(!Co&&At!==null){Co=!0;var e=0,t=he;try{var r=At;for(he=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}At=null,zs=!1}catch(l){throw At!==null&&(At=At.slice(e+1)),Ta(Ji,Zt),l}finally{he=t,Co=!1}}return null}var qr=[],Vr=0,Bs=null,Ws=0,ot=[],lt=0,vr=null,It=1,Lt="";function yr(e,t){qr[Vr++]=Ws,qr[Vr++]=Bs,Bs=e,Ws=t}function Cu(e,t,r){ot[lt++]=It,ot[lt++]=Lt,ot[lt++]=vr,vr=e;var i=It;e=Lt;var l=32-pt(i)-1;i&=~(1<<l),r+=1;var c=32-pt(t)+l;if(30<c){var f=l-l%5;c=(i&(1<<f)-1).toString(32),i>>=f,l-=f,It=1<<32-pt(t)+l|r<<l|i,Lt=c+e}else It=1<<c|r<<l|i,Lt=e}function To(e){e.return!==null&&(yr(e,1),Cu(e,1,0))}function No(e){for(;e===Bs;)Bs=qr[--Vr],qr[Vr]=null,Ws=qr[--Vr],qr[Vr]=null;for(;e===vr;)vr=ot[--lt],ot[lt]=null,Lt=ot[--lt],ot[lt]=null,It=ot[--lt],ot[lt]=null}var nt=null,st=null,we=!1,mt=null;function Tu(e,t){var r=dt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Nu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,st=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:It,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=dt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nt=e,st=null,!0):!1;default:return!1}}function Po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oo(e){if(we){var t=st;if(t){var r=t;if(!Nu(e,t)){if(Po(e))throw Error(s(418));t=Gt(r.nextSibling);var i=nt;t&&Nu(e,t)?Tu(i,r):(e.flags=e.flags&-4097|2,we=!1,nt=e)}}else{if(Po(e))throw Error(s(418));e.flags=e.flags&-4097|2,we=!1,nt=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function Hs(e){if(e!==nt)return!1;if(!we)return Pu(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=st)){if(Po(e))throw Ou(),Error(s(418));for(;t;)Tu(e,t),t=Gt(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){st=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}st=null}}else st=nt?Gt(e.stateNode.nextSibling):null;return!0}function Ou(){for(var e=st;e;)e=Gt(e.nextSibling)}function Kr(){st=nt=null,we=!1}function Ro(e){mt===null?mt=[e]:mt.push(e)}var _f=L.ReactCurrentBatchConfig;function Wn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var l=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var v=l.refs;f===null?delete v[c]:v[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Au(e){function t(E,x){if(e){var b=E.deletions;b===null?(E.deletions=[x],E.flags|=16):b.push(x)}}function r(E,x){if(!e)return null;for(;x!==null;)t(E,x),x=x.sibling;return null}function i(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function l(E,x){return E=lr(E,x),E.index=0,E.sibling=null,E}function c(E,x,b){return E.index=b,e?(b=E.alternate,b!==null?(b=b.index,b<x?(E.flags|=2,x):b):(E.flags|=2,x)):(E.flags|=1048576,x)}function f(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,x,b,$){return x===null||x.tag!==6?(x=Sl(b,E.mode,$),x.return=E,x):(x=l(x,b),x.return=E,x)}function _(E,x,b,$){var K=b.type;return K===ne?R(E,x,b.props.children,$,b.key):x!==null&&(x.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ke&&Ru(K)===x.type)?($=l(x,b.props),$.ref=Wn(E,x,b),$.return=E,$):($=gi(b.type,b.key,b.props,null,E.mode,$),$.ref=Wn(E,x,b),$.return=E,$)}function C(E,x,b,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=El(b,E.mode,$),x.return=E,x):(x=l(x,b.children||[]),x.return=E,x)}function R(E,x,b,$,K){return x===null||x.tag!==7?(x=jr(b,E.mode,$,K),x.return=E,x):(x=l(x,b),x.return=E,x)}function A(E,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Sl(""+x,E.mode,b),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case te:return b=gi(x.type,x.key,x.props,null,E.mode,b),b.ref=Wn(E,null,x),b.return=E,b;case N:return x=El(x,E.mode,b),x.return=E,x;case Ke:var $=x._init;return A(E,$(x._payload),b)}if(yn(x)||Y(x))return x=jr(x,E.mode,b,null),x.return=E,x;qs(E,x)}return null}function P(E,x,b,$){var K=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return K!==null?null:v(E,x,""+b,$);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case te:return b.key===K?_(E,x,b,$):null;case N:return b.key===K?C(E,x,b,$):null;case Ke:return K=b._init,P(E,x,K(b._payload),$)}if(yn(b)||Y(b))return K!==null?null:R(E,x,b,$,null);qs(E,b)}return null}function M(E,x,b,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return E=E.get(b)||null,v(x,E,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case te:return E=E.get($.key===null?b:$.key)||null,_(x,E,$,K);case N:return E=E.get($.key===null?b:$.key)||null,C(x,E,$,K);case Ke:var J=$._init;return M(E,x,b,J($._payload),K)}if(yn($)||Y($))return E=E.get(b)||null,R(x,E,$,K,null);qs(x,$)}return null}function q(E,x,b,$){for(var K=null,J=null,Q=x,X=x=0,Ie=null;Q!==null&&X<b.length;X++){Q.index>X?(Ie=Q,Q=null):Ie=Q.sibling;var ce=P(E,Q,b[X],$);if(ce===null){Q===null&&(Q=Ie);break}e&&Q&&ce.alternate===null&&t(E,Q),x=c(ce,x,X),J===null?K=ce:J.sibling=ce,J=ce,Q=Ie}if(X===b.length)return r(E,Q),we&&yr(E,X),K;if(Q===null){for(;X<b.length;X++)Q=A(E,b[X],$),Q!==null&&(x=c(Q,x,X),J===null?K=Q:J.sibling=Q,J=Q);return we&&yr(E,X),K}for(Q=i(E,Q);X<b.length;X++)Ie=M(Q,E,X,b[X],$),Ie!==null&&(e&&Ie.alternate!==null&&Q.delete(Ie.key===null?X:Ie.key),x=c(Ie,x,X),J===null?K=Ie:J.sibling=Ie,J=Ie);return e&&Q.forEach(function(ar){return t(E,ar)}),we&&yr(E,X),K}function V(E,x,b,$){var K=Y(b);if(typeof K!="function")throw Error(s(150));if(b=K.call(b),b==null)throw Error(s(151));for(var J=K=null,Q=x,X=x=0,Ie=null,ce=b.next();Q!==null&&!ce.done;X++,ce=b.next()){Q.index>X?(Ie=Q,Q=null):Ie=Q.sibling;var ar=P(E,Q,ce.value,$);if(ar===null){Q===null&&(Q=Ie);break}e&&Q&&ar.alternate===null&&t(E,Q),x=c(ar,x,X),J===null?K=ar:J.sibling=ar,J=ar,Q=Ie}if(ce.done)return r(E,Q),we&&yr(E,X),K;if(Q===null){for(;!ce.done;X++,ce=b.next())ce=A(E,ce.value,$),ce!==null&&(x=c(ce,x,X),J===null?K=ce:J.sibling=ce,J=ce);return we&&yr(E,X),K}for(Q=i(E,Q);!ce.done;X++,ce=b.next())ce=M(Q,E,X,ce.value,$),ce!==null&&(e&&ce.alternate!==null&&Q.delete(ce.key===null?X:ce.key),x=c(ce,x,X),J===null?K=ce:J.sibling=ce,J=ce);return e&&Q.forEach(function(Zf){return t(E,Zf)}),we&&yr(E,X),K}function be(E,x,b,$){if(typeof b=="object"&&b!==null&&b.type===ne&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case te:e:{for(var K=b.key,J=x;J!==null;){if(J.key===K){if(K=b.type,K===ne){if(J.tag===7){r(E,J.sibling),x=l(J,b.props.children),x.return=E,E=x;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ke&&Ru(K)===J.type){r(E,J.sibling),x=l(J,b.props),x.ref=Wn(E,J,b),x.return=E,E=x;break e}r(E,J);break}else t(E,J);J=J.sibling}b.type===ne?(x=jr(b.props.children,E.mode,$,b.key),x.return=E,E=x):($=gi(b.type,b.key,b.props,null,E.mode,$),$.ref=Wn(E,x,b),$.return=E,E=$)}return f(E);case N:e:{for(J=b.key;x!==null;){if(x.key===J)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(E,x.sibling),x=l(x,b.children||[]),x.return=E,E=x;break e}else{r(E,x);break}else t(E,x);x=x.sibling}x=El(b,E.mode,$),x.return=E,E=x}return f(E);case Ke:return J=b._init,be(E,x,J(b._payload),$)}if(yn(b))return q(E,x,b,$);if(Y(b))return V(E,x,b,$);qs(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(E,x.sibling),x=l(x,b),x.return=E,E=x):(r(E,x),x=Sl(b,E.mode,$),x.return=E,E=x),f(E)):r(E,x)}return be}var Jr=Au(!0),Iu=Au(!1),Vs=Yt(null),Ks=null,Qr=null,Ao=null;function Io(){Ao=Qr=Ks=null}function Lo(e){var t=Vs.current;ve(Vs),e._currentValue=t}function $o(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){Ks=e,Ao=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ge=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Ks===null)throw Error(s(308));Qr=e,Ks.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var wr=null;function Uo(e){wr===null?wr=[e]:wr.push(e)}function Lu(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Uo(t)):(r.next=l.next,l.next=r),t.interleaved=r,$t(e,i)}function $t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var er=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(le&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,$t(e,r)}return l=i.interleaved,l===null?(t.next=t,Uo(i)):(t.next=l.next,l.next=t),i.interleaved=t,$t(e,r)}function Js(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yi(e,r)}}function Uu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};c===null?l=c=f:c=c.next=f,r=r.next}while(r!==null);c===null?l=c=t:c=c.next=t}else l=c=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qs(e,t,r,i){var l=e.updateQueue;er=!1;var c=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var _=v,C=_.next;_.next=null,f===null?c=C:f.next=C,f=_;var R=e.alternate;R!==null&&(R=R.updateQueue,v=R.lastBaseUpdate,v!==f&&(v===null?R.firstBaseUpdate=C:v.next=C,R.lastBaseUpdate=_))}if(c!==null){var A=l.baseState;f=0,R=C=_=null,v=c;do{var P=v.lane,M=v.eventTime;if((i&P)===P){R!==null&&(R=R.next={eventTime:M,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var q=e,V=v;switch(P=t,M=r,V.tag){case 1:if(q=V.payload,typeof q=="function"){A=q.call(M,A,P);break e}A=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=V.payload,P=typeof q=="function"?q.call(M,A,P):q,P==null)break e;A=H({},A,P);break e;case 2:er=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,P=l.effects,P===null?l.effects=[v]:P.push(v))}else M={eventTime:M,lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},R===null?(C=R=M,_=A):R=R.next=M,f|=P;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;P=v,v=P.next,P.next=null,l.lastBaseUpdate=P,l.shared.pending=null}}while(!0);if(R===null&&(_=A),l.baseState=_,l.firstBaseUpdate=C,l.lastBaseUpdate=R,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);xr|=f,e.lanes=f,e.memoizedState=A}}function Du(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Hn={},Ct=Yt(Hn),qn=Yt(Hn),Vn=Yt(Hn);function _r(e){if(e===Hn)throw Error(s(174));return e}function Fo(e,t){switch(pe(Vn,t),pe(qn,e),pe(Ct,Hn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fi(t,e)}ve(Ct),pe(Ct,t)}function Yr(){ve(Ct),ve(qn),ve(Vn)}function Fu(e){_r(Vn.current);var t=_r(Ct.current),r=Fi(t,e.type);t!==r&&(pe(qn,e),pe(Ct,r))}function Mo(e){qn.current===e&&(ve(Ct),ve(qn))}var _e=Yt(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=[];function Bo(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var Ys=L.ReactCurrentDispatcher,Wo=L.ReactCurrentBatchConfig,kr=0,ke=null,Te=null,Re=null,Xs=!1,Kn=!1,Jn=0,kf=0;function Fe(){throw Error(s(321))}function Ho(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function qo(e,t,r,i,l,c){if(kr=c,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ys.current=e===null||e.memoizedState===null?bf:jf,e=r(i,l),Kn){c=0;do{if(Kn=!1,Jn=0,25<=c)throw Error(s(301));c+=1,Re=Te=null,t.updateQueue=null,Ys.current=Cf,e=r(i,l)}while(Kn)}if(Ys.current=ti,t=Te!==null&&Te.next!==null,kr=0,Re=Te=ke=null,Xs=!1,t)throw Error(s(300));return e}function Vo(){var e=Jn!==0;return Jn=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ke.memoizedState=Re=e:Re=Re.next=e,Re}function ut(){if(Te===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Re===null?ke.memoizedState:Re.next;if(t!==null)Re=t,Te=e;else{if(e===null)throw Error(s(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Re===null?ke.memoizedState=Re=e:Re=Re.next=e}return Re}function Qn(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=ut(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Te,l=i.baseQueue,c=r.pending;if(c!==null){if(l!==null){var f=l.next;l.next=c.next,c.next=f}i.baseQueue=l=c,r.pending=null}if(l!==null){c=l.next,i=i.baseState;var v=f=null,_=null,C=c;do{var R=C.lane;if((kr&R)===R)_!==null&&(_=_.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),i=C.hasEagerState?C.eagerState:e(i,C.action);else{var A={lane:R,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};_===null?(v=_=A,f=i):_=_.next=A,ke.lanes|=R,xr|=R}C=C.next}while(C!==null&&C!==c);_===null?f=i:_.next=v,gt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do c=l.lane,ke.lanes|=c,xr|=c,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jo(e){var t=ut(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,c=t.memoizedState;if(l!==null){r.pending=null;var f=l=l.next;do c=e(c,f.action),f=f.next;while(f!==l);gt(c,t.memoizedState)||(Ge=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,i]}function Mu(){}function zu(e,t){var r=ke,i=ut(),l=t(),c=!gt(i.memoizedState,l);if(c&&(i.memoizedState=l,Ge=!0),i=i.queue,Qo(Hu.bind(null,r,i,e),[e]),i.getSnapshot!==t||c||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Gn(9,Wu.bind(null,r,i,l,t),void 0,null),Ae===null)throw Error(s(349));(kr&30)!==0||Bu(r,t,l)}return l}function Bu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wu(e,t,r,i){t.value=r,t.getSnapshot=i,qu(t)&&Vu(e)}function Hu(e,t,r){return r(function(){qu(t)&&Vu(e)})}function qu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function Vu(e){var t=$t(e,1);t!==null&&_t(t,e,1,-1)}function Ku(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Ef.bind(null,ke,e),[t.memoizedState,e]}function Gn(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Ju(){return ut().memoizedState}function Zs(e,t,r,i){var l=Tt();ke.flags|=e,l.memoizedState=Gn(1|t,r,void 0,i===void 0?null:i)}function ei(e,t,r,i){var l=ut();i=i===void 0?null:i;var c=void 0;if(Te!==null){var f=Te.memoizedState;if(c=f.destroy,i!==null&&Ho(i,f.deps)){l.memoizedState=Gn(t,r,c,i);return}}ke.flags|=e,l.memoizedState=Gn(1|t,r,c,i)}function Qu(e,t){return Zs(8390656,8,e,t)}function Qo(e,t){return ei(2048,8,e,t)}function Gu(e,t){return ei(4,2,e,t)}function Yu(e,t){return ei(4,4,e,t)}function Xu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zu(e,t,r){return r=r!=null?r.concat([e]):null,ei(4,4,Xu.bind(null,t,e),r)}function Go(){}function ec(e,t){var r=ut();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ho(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function tc(e,t){var r=ut();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Ho(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function rc(e,t,r){return(kr&21)===0?(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=r):(gt(r,t)||(r=Ra(),ke.lanes|=r,xr|=r,e.baseState=!0),t)}function xf(e,t){var r=he;he=r!==0&&4>r?r:4,e(!0);var i=Wo.transition;Wo.transition={};try{e(!1),t()}finally{he=r,Wo.transition=i}}function nc(){return ut().memoizedState}function Sf(e,t,r){var i=ir(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},sc(e))ic(t,r);else if(r=Lu(e,t,r,i),r!==null){var l=qe();_t(r,e,i,l),oc(r,t,i)}}function Ef(e,t,r){var i=ir(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(sc(e))ic(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,r);if(l.hasEagerState=!0,l.eagerState=v,gt(v,f)){var _=t.interleaved;_===null?(l.next=l,Uo(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=Lu(e,t,l,i),r!==null&&(l=qe(),_t(r,e,i,l),oc(r,t,i))}}function sc(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function ic(e,t){Kn=Xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Yi(e,r)}}var ti={readContext:at,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},bf={readContext:at,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Qu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zs(4194308,4,Xu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var r=Tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Tt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Sf.bind(null,ke,e),[i.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:Go,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=xf.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ke,l=Tt();if(we){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Ae===null)throw Error(s(349));(kr&30)!==0||Bu(i,t,r)}l.memoizedState=r;var c={value:r,getSnapshot:t};return l.queue=c,Qu(Hu.bind(null,i,c,e),[e]),i.flags|=2048,Gn(9,Wu.bind(null,i,c,r,t),void 0,null),r},useId:function(){var e=Tt(),t=Ae.identifierPrefix;if(we){var r=Lt,i=It;r=(i&~(1<<32-pt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jf={readContext:at,useCallback:ec,useContext:at,useEffect:Qo,useImperativeHandle:Zu,useInsertionEffect:Gu,useLayoutEffect:Yu,useMemo:tc,useReducer:Ko,useRef:Ju,useState:function(){return Ko(Qn)},useDebugValue:Go,useDeferredValue:function(e){var t=ut();return rc(t,Te.memoizedState,e)},useTransition:function(){var e=Ko(Qn)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:zu,useId:nc,unstable_isNewReconciler:!1},Cf={readContext:at,useCallback:ec,useContext:at,useEffect:Qo,useImperativeHandle:Zu,useInsertionEffect:Gu,useLayoutEffect:Yu,useMemo:tc,useReducer:Jo,useRef:Ju,useState:function(){return Jo(Qn)},useDebugValue:Go,useDeferredValue:function(e){var t=ut();return Te===null?t.memoizedState=e:rc(t,Te.memoizedState,e)},useTransition:function(){var e=Jo(Qn)[0],t=ut().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:zu,useId:nc,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yo(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:H({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ri={isMounted:function(e){return(e=e._reactInternals)?pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=qe(),l=ir(e),c=Ut(i,l);c.payload=t,r!=null&&(c.callback=r),t=tr(e,c,l),t!==null&&(_t(t,e,l,i),Js(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=qe(),l=ir(e),c=Ut(i,l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=tr(e,c,l),t!==null&&(_t(t,e,l,i),Js(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),i=ir(e),l=Ut(r,i);l.tag=2,t!=null&&(l.callback=t),t=tr(e,l,i),t!==null&&(_t(t,e,i,r),Js(t,e,i))}};function lc(e,t,r,i,l,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,f):t.prototype&&t.prototype.isPureReactComponent?!$n(r,i)||!$n(l,c):!0}function ac(e,t,r){var i=!1,l=Xt,c=t.contextType;return typeof c=="object"&&c!==null?c=at(c):(l=Qe(t)?mr:De.current,i=t.contextTypes,c=(i=i!=null)?Hr(e,l):Xt),t=new t(r,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function uc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function Xo(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Do(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=at(c):(c=Qe(t)?mr:De.current,l.context=Hr(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(Yo(e,t,c,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ri.enqueueReplaceState(l,l.state,null),Qs(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",i=t;do r+=ae(i),i=i.return;while(i);var l=r}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function Zo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function el(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tf=typeof WeakMap=="function"?WeakMap:Map;function cc(e,t,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ui||(ui=!0,gl=i),el(e,t)},r}function dc(e,t,r){r=Ut(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){el(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(r.callback=function(){el(e,t),typeof i!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function hc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Tf;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=Bf.bind(null,e,t,r),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pc(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ut(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Nf=L.ReactCurrentOwner,Ge=!1;function He(e,t,r,i){t.child=e===null?Iu(t,null,r,i):Jr(t,e.child,r,i)}function gc(e,t,r,i,l){r=r.render;var c=t.ref;return Gr(t,l),i=qo(e,t,r,i,c,l),r=Vo(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(we&&r&&To(t),t.flags|=1,He(e,t,i,l),t.child)}function mc(e,t,r,i,l){if(e===null){var c=r.type;return typeof c=="function"&&!xl(c)&&c.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=c,vc(e,t,c,i,l)):(e=gi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var f=c.memoizedProps;if(r=r.compare,r=r!==null?r:$n,r(f,i)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=lr(c,i),e.ref=t.ref,e.return=t,t.child=e}function vc(e,t,r,i,l){if(e!==null){var c=e.memoizedProps;if($n(c,i)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=i=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return tl(e,t,r,i,l)}function yc(e,t,r){var i=t.pendingProps,l=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(en,it),it|=r;else{if((r&1073741824)===0)return e=c!==null?c.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(en,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:r,pe(en,it),it|=i}else c!==null?(i=c.baseLanes|r,t.memoizedState=null):i=r,pe(en,it),it|=i;return He(e,t,l,r),t.child}function wc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tl(e,t,r,i,l){var c=Qe(r)?mr:De.current;return c=Hr(t,c),Gr(t,l),r=qo(e,t,r,i,c,l),i=Vo(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(we&&i&&To(t),t.flags|=1,He(e,t,r,l),t.child)}function _c(e,t,r,i,l){if(Qe(r)){var c=!0;Ms(t)}else c=!1;if(Gr(t,l),t.stateNode===null)si(e,t),ac(t,r,i),Xo(t,r,i,l),i=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var _=f.context,C=r.contextType;typeof C=="object"&&C!==null?C=at(C):(C=Qe(r)?mr:De.current,C=Hr(t,C));var R=r.getDerivedStateFromProps,A=typeof R=="function"||typeof f.getSnapshotBeforeUpdate=="function";A||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==i||_!==C)&&uc(t,f,i,C),er=!1;var P=t.memoizedState;f.state=P,Qs(t,i,f,l),_=t.memoizedState,v!==i||P!==_||Je.current||er?(typeof R=="function"&&(Yo(t,r,R,i),_=t.memoizedState),(v=er||lc(t,r,v,i,P,_,C))?(A||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),f.props=i,f.state=_,f.context=C,i=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,$u(e,t),v=t.memoizedProps,C=t.type===t.elementType?v:vt(t.type,v),f.props=C,A=t.pendingProps,P=f.context,_=r.contextType,typeof _=="object"&&_!==null?_=at(_):(_=Qe(r)?mr:De.current,_=Hr(t,_));var M=r.getDerivedStateFromProps;(R=typeof M=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==A||P!==_)&&uc(t,f,i,_),er=!1,P=t.memoizedState,f.state=P,Qs(t,i,f,l);var q=t.memoizedState;v!==A||P!==q||Je.current||er?(typeof M=="function"&&(Yo(t,r,M,i),q=t.memoizedState),(C=er||lc(t,r,C,i,P,q,_)||!1)?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,q,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,q,_)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),f.props=i,f.state=q,f.context=_,i=C):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),i=!1)}return rl(e,t,r,i,c,l)}function rl(e,t,r,i,l,c){wc(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return l&&bu(t,r,!1),Dt(e,t,c);i=t.stateNode,Nf.current=t;var v=f&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=Jr(t,e.child,null,c),t.child=Jr(t,null,v,c)):He(e,t,v,c),t.memoizedState=i.state,l&&bu(t,r,!0),t.child}function kc(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),Fo(e,t.containerInfo)}function xc(e,t,r,i,l){return Kr(),Ro(l),t.flags|=256,He(e,t,r,i),t.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sc(e,t,r){var i=t.pendingProps,l=_e.current,c=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),pe(_e,l&1),e===null)return Oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=i.children,e=i.fallback,c?(i=t.mode,c=t.child,f={mode:"hidden",children:f},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=f):c=mi(f,i,0,null),e=jr(e,i,r,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=sl(r),t.memoizedState=nl,e):il(t,f));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Pf(e,t,f,i,v,l,r);if(c){c=i.fallback,f=t.mode,l=e.child,v=l.sibling;var _={mode:"hidden",children:i.children};return(f&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=lr(l,_),i.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=lr(v,c):(c=jr(c,f,r,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,f=e.child.memoizedState,f=f===null?sl(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~r,t.memoizedState=nl,i}return c=e.child,e=c.sibling,i=lr(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function il(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ni(e,t,r,i){return i!==null&&Ro(i),Jr(t,e.child,null,r),e=il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pf(e,t,r,i,l,c,f){if(r)return t.flags&256?(t.flags&=-257,i=Zo(Error(s(422))),ni(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,l=t.mode,i=mi({mode:"visible",children:i.children},l,0,null),c=jr(c,l,f,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&Jr(t,e.child,null,f),t.child.memoizedState=sl(f),t.memoizedState=nl,c);if((t.mode&1)===0)return ni(e,t,f,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var v=i.dgst;return i=v,c=Error(s(419)),i=Zo(c,i,void 0),ni(e,t,f,i)}if(v=(f&e.childLanes)!==0,Ge||v){if(i=Ae,i!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|f))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,$t(e,l),_t(i,e,l,-1))}return kl(),i=Zo(Error(s(421))),ni(e,t,f,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Wf.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,st=Gt(l.nextSibling),nt=t,we=!0,mt=null,e!==null&&(ot[lt++]=It,ot[lt++]=Lt,ot[lt++]=vr,It=e.id,Lt=e.overflow,vr=t),t=il(t,i.children),t.flags|=4096,t)}function Ec(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$o(e.return,t,r)}function ol(e,t,r,i,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=r,c.tailMode=l)}function bc(e,t,r){var i=t.pendingProps,l=i.revealOrder,c=i.tail;if(He(e,t,i.children,r),i=_e.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,r,t);else if(e.tag===19)Ec(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(pe(_e,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Gs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),ol(t,!1,l,r,c);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}ol(t,!0,r,null,c);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=lr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Of(e,t,r){switch(t.tag){case 3:kc(t),Kr();break;case 5:Fu(t);break;case 1:Qe(t.type)&&Ms(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;pe(Vs,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(pe(_e,_e.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Sc(e,t,r):(pe(_e,_e.current&1),e=Dt(e,t,r),e!==null?e.sibling:null);pe(_e,_e.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return bc(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(_e,_e.current),i)break;return null;case 22:case 23:return t.lanes=0,yc(e,t,r)}return Dt(e,t,r)}var jc,ll,Cc,Tc;jc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ll=function(){},Cc=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,_r(Ct.current);var c=null;switch(r){case"input":l=Li(e,l),i=Li(e,i),c=[];break;case"select":l=H({},l,{value:void 0}),i=H({},i,{value:void 0}),c=[];break;case"textarea":l=Di(e,l),i=Di(e,i),c=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Us)}Mi(r,i);var f;r=null;for(C in l)if(!i.hasOwnProperty(C)&&l.hasOwnProperty(C)&&l[C]!=null)if(C==="style"){var v=l[C];for(f in v)v.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?c||(c=[]):(c=c||[]).push(C,null));for(C in i){var _=i[C];if(v=l?.[C],i.hasOwnProperty(C)&&_!==v&&(_!=null||v!=null))if(C==="style")if(v){for(f in v)!v.hasOwnProperty(f)||_&&_.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in _)_.hasOwnProperty(f)&&v[f]!==_[f]&&(r||(r={}),r[f]=_[f])}else r||(c||(c=[]),c.push(C,r)),r=_;else C==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(c=c||[]).push(C,_)):C==="children"?typeof _!="string"&&typeof _!="number"||(c=c||[]).push(C,""+_):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(a.hasOwnProperty(C)?(_!=null&&C==="onScroll"&&me("scroll",e),c||v===_||(c=[])):(c=c||[]).push(C,_))}r&&(c=c||[]).push("style",r);var C=c;(t.updateQueue=C)&&(t.flags|=4)}},Tc=function(e,t,r,i){r!==i&&(t.flags|=4)};function Yn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Rf(e,t,r){var i=t.pendingProps;switch(No(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Qe(t.type)&&Fs(),Me(t),null;case 3:return i=t.stateNode,Yr(),ve(Je),ve(De),Bo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mt!==null&&(yl(mt),mt=null))),ll(e,t),Me(t),null;case 5:Mo(t);var l=_r(Vn.current);if(r=t.type,e!==null&&t.stateNode!=null)Cc(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Me(t),null}if(e=_r(Ct.current),Hs(t)){i=t.stateNode,r=t.type;var c=t.memoizedProps;switch(i[jt]=t,i[zn]=c,e=(t.mode&1)!==0,r){case"dialog":me("cancel",i),me("close",i);break;case"iframe":case"object":case"embed":me("load",i);break;case"video":case"audio":for(l=0;l<Dn.length;l++)me(Dn[l],i);break;case"source":me("error",i);break;case"img":case"image":case"link":me("error",i),me("load",i);break;case"details":me("toggle",i);break;case"input":aa(i,c),me("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},me("invalid",i);break;case"textarea":da(i,c),me("invalid",i)}Mi(r,c),l=null;for(var f in c)if(c.hasOwnProperty(f)){var v=c[f];f==="children"?typeof v=="string"?i.textContent!==v&&(c.suppressHydrationWarning!==!0&&$s(i.textContent,v,e),l=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&$s(i.textContent,v,e),l=["children",""+v]):a.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&me("scroll",i)}switch(r){case"input":fs(i),ca(i,c,!0);break;case"textarea":fs(i),fa(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=Us)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pa(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(r,{is:i.is}):(e=f.createElement(r),r==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,r),e[jt]=t,e[zn]=i,jc(e,t,!1,!1),t.stateNode=e;e:{switch(f=zi(r,i),r){case"dialog":me("cancel",e),me("close",e),l=i;break;case"iframe":case"object":case"embed":me("load",e),l=i;break;case"video":case"audio":for(l=0;l<Dn.length;l++)me(Dn[l],e);l=i;break;case"source":me("error",e),l=i;break;case"img":case"image":case"link":me("error",e),me("load",e),l=i;break;case"details":me("toggle",e),l=i;break;case"input":aa(e,i),l=Li(e,i),me("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=H({},i,{value:void 0}),me("invalid",e);break;case"textarea":da(e,i),l=Di(e,i),me("invalid",e);break;default:l=i}Mi(r,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var _=v[c];c==="style"?va(e,_):c==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&ga(e,_)):c==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&wn(e,_):typeof _=="number"&&wn(e,""+_):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(a.hasOwnProperty(c)?_!=null&&c==="onScroll"&&me("scroll",e):_!=null&&B(e,c,_,f))}switch(r){case"input":fs(e),ca(e,i,!1);break;case"textarea":fs(e),fa(e);break;case"option":i.value!=null&&e.setAttribute("value",""+de(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?Rr(e,!!i.multiple,c,!1):i.defaultValue!=null&&Rr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Us)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Tc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=_r(Vn.current),_r(Ct.current),Hs(t)){if(i=t.stateNode,r=t.memoizedProps,i[jt]=t,(c=i.nodeValue!==r)&&(e=nt,e!==null))switch(e.tag){case 3:$s(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(i.nodeValue,r,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[jt]=t,t.stateNode=i}return Me(t),null;case 13:if(ve(_e),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&st!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ou(),Kr(),t.flags|=98560,c=!1;else if(c=Hs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[jt]=t}else Kr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),c=!1}else mt!==null&&(yl(mt),mt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(_e.current&1)!==0?Ne===0&&(Ne=3):kl())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return Yr(),ll(e,t),e===null&&Fn(t.stateNode.containerInfo),Me(t),null;case 10:return Lo(t.type._context),Me(t),null;case 17:return Qe(t.type)&&Fs(),Me(t),null;case 19:if(ve(_e),c=t.memoizedState,c===null)return Me(t),null;if(i=(t.flags&128)!==0,f=c.rendering,f===null)if(i)Yn(c,!1);else{if(Ne!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Gs(e),f!==null){for(t.flags|=128,Yn(c,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)c=r,e=i,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(_e,_e.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ee()>tn&&(t.flags|=128,i=!0,Yn(c,!1),t.lanes=4194304)}else{if(!i)if(e=Gs(f),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yn(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!we)return Me(t),null}else 2*Ee()-c.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,i=!0,Yn(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(r=c.last,r!==null?r.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ee(),t.sibling=null,r=_e.current,pe(_e,i?r&1|2:r&1),t):(Me(t),null);case 22:case 23:return _l(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(it&1073741824)!==0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Af(e,t){switch(No(t),t.tag){case 1:return Qe(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),ve(Je),ve(De),Bo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Mo(t),null;case 13:if(ve(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(_e),null;case 4:return Yr(),null;case 10:return Lo(t.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var ii=!1,ze=!1,If=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Se(e,t,i)}else r.current=null}function al(e,t,r){try{r()}catch(i){Se(e,t,i)}}var Nc=!1;function Lf(e,t){if(_o=bs,e=lu(),ho(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var f=0,v=-1,_=-1,C=0,R=0,A=e,P=null;t:for(;;){for(var M;A!==r||l!==0&&A.nodeType!==3||(v=f+l),A!==c||i!==0&&A.nodeType!==3||(_=f+i),A.nodeType===3&&(f+=A.nodeValue.length),(M=A.firstChild)!==null;)P=A,A=M;for(;;){if(A===e)break t;if(P===r&&++C===l&&(v=f),P===c&&++R===i&&(_=f),(M=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=M}r=v===-1||_===-1?null:{start:v,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(ko={focusedElem:e,selectionRange:r},bs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var V=q.memoizedProps,be=q.memoizedState,E=t.stateNode,x=E.getSnapshotBeforeUpdate(t.elementType===t.type?V:vt(t.type,V),be);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch($){Se(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return q=Nc,Nc=!1,q}function Xn(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&al(t,r,c)}l=l.next}while(l!==i)}}function oi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ul(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[zn],delete t[bo],delete t[vf],delete t[yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oc(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Us));else if(i!==4&&(e=e.child,e!==null))for(cl(e,t,r),e=e.sibling;e!==null;)cl(e,t,r),e=e.sibling}function dl(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(dl(e,t,r),e=e.sibling;e!==null;)dl(e,t,r),e=e.sibling}var $e=null,yt=!1;function rr(e,t,r){for(r=r.child;r!==null;)Ac(e,t,r),r=r.sibling}function Ac(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(ws,r)}catch{}switch(r.tag){case 5:ze||Zr(r,t);case 6:var i=$e,l=yt;$e=null,rr(e,t,r),$e=i,yt=l,$e!==null&&(yt?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(yt?(e=$e,r=r.stateNode,e.nodeType===8?Eo(e.parentNode,r):e.nodeType===1&&Eo(e,r),Pn(e)):Eo($e,r.stateNode));break;case 4:i=$e,l=yt,$e=r.stateNode.containerInfo,yt=!0,rr(e,t,r),$e=i,yt=l;break;case 0:case 11:case 14:case 15:if(!ze&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var c=l,f=c.destroy;c=c.tag,f!==void 0&&((c&2)!==0||(c&4)!==0)&&al(r,t,f),l=l.next}while(l!==i)}rr(e,t,r);break;case 1:if(!ze&&(Zr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(v){Se(r,t,v)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(ze=(i=ze)||r.memoizedState!==null,rr(e,t,r),ze=i):rr(e,t,r);break;default:rr(e,t,r)}}function Ic(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new If),t.forEach(function(i){var l=Hf.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:$e=v.stateNode,yt=!1;break e;case 3:$e=v.stateNode.containerInfo,yt=!0;break e;case 4:$e=v.stateNode.containerInfo,yt=!0;break e}v=v.return}if($e===null)throw Error(s(160));Ac(c,f,l),$e=null,yt=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(C){Se(l,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lc(t,e),t=t.sibling}function Lc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Nt(e),i&4){try{Xn(3,e,e.return),oi(3,e)}catch(V){Se(e,e.return,V)}try{Xn(5,e,e.return)}catch(V){Se(e,e.return,V)}}break;case 1:wt(t,e),Nt(e),i&512&&r!==null&&Zr(r,r.return);break;case 5:if(wt(t,e),Nt(e),i&512&&r!==null&&Zr(r,r.return),e.flags&32){var l=e.stateNode;try{wn(l,"")}catch(V){Se(e,e.return,V)}}if(i&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,f=r!==null?r.memoizedProps:c,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&ua(l,c),zi(v,f);var C=zi(v,c);for(f=0;f<_.length;f+=2){var R=_[f],A=_[f+1];R==="style"?va(l,A):R==="dangerouslySetInnerHTML"?ga(l,A):R==="children"?wn(l,A):B(l,R,A,C)}switch(v){case"input":$i(l,c);break;case"textarea":ha(l,c);break;case"select":var P=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var M=c.value;M!=null?Rr(l,!!c.multiple,M,!1):P!==!!c.multiple&&(c.defaultValue!=null?Rr(l,!!c.multiple,c.defaultValue,!0):Rr(l,!!c.multiple,c.multiple?[]:"",!1))}l[zn]=c}catch(V){Se(e,e.return,V)}}break;case 6:if(wt(t,e),Nt(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(V){Se(e,e.return,V)}}break;case 3:if(wt(t,e),Nt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(V){Se(e,e.return,V)}break;case 4:wt(t,e),Nt(e);break;case 13:wt(t,e),Nt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(pl=Ee())),i&4&&Ic(e);break;case 22:if(R=r!==null&&r.memoizedState!==null,e.mode&1?(ze=(C=ze)||R,wt(t,e),ze=C):wt(t,e),Nt(e),i&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!R&&(e.mode&1)!==0)for(W=e,R=e.child;R!==null;){for(A=W=R;W!==null;){switch(P=W,M=P.child,P.tag){case 0:case 11:case 14:case 15:Xn(4,P,P.return);break;case 1:Zr(P,P.return);var q=P.stateNode;if(typeof q.componentWillUnmount=="function"){i=P,r=P.return;try{t=i,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(V){Se(i,r,V)}}break;case 5:Zr(P,P.return);break;case 22:if(P.memoizedState!==null){Dc(A);continue}}M!==null?(M.return=P,W=M):Dc(A)}R=R.sibling}e:for(R=null,A=e;;){if(A.tag===5){if(R===null){R=A;try{l=A.stateNode,C?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=A.stateNode,_=A.memoizedProps.style,f=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=ma("display",f))}catch(V){Se(e,e.return,V)}}}else if(A.tag===6){if(R===null)try{A.stateNode.nodeValue=C?"":A.memoizedProps}catch(V){Se(e,e.return,V)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;R===A&&(R=null),A=A.return}R===A&&(R=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:wt(t,e),Nt(e),i&4&&Ic(e);break;case 21:break;default:wt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Oc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(wn(l,""),i.flags&=-33);var c=Rc(e);dl(e,c,l);break;case 3:case 4:var f=i.stateNode.containerInfo,v=Rc(e);cl(e,v,f);break;default:throw Error(s(161))}}catch(_){Se(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $f(e,t,r){W=e,$c(e)}function $c(e,t,r){for(var i=(e.mode&1)!==0;W!==null;){var l=W,c=l.child;if(l.tag===22&&i){var f=l.memoizedState!==null||ii;if(!f){var v=l.alternate,_=v!==null&&v.memoizedState!==null||ze;v=ii;var C=ze;if(ii=f,(ze=_)&&!C)for(W=l;W!==null;)f=W,_=f.child,f.tag===22&&f.memoizedState!==null?Fc(l):_!==null?(_.return=f,W=_):Fc(l);for(;c!==null;)W=c,$c(c),c=c.sibling;W=l,ii=v,ze=C}Uc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,W=c):Uc(e)}}function Uc(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ze||oi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ze)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:vt(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Du(t,c,i);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Du(t,f,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var R=C.memoizedState;if(R!==null){var A=R.dehydrated;A!==null&&Pn(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ze||t.flags&512&&ul(t)}catch(P){Se(t,t.return,P)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Dc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Fc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oi(4,t)}catch(_){Se(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(_){Se(t,l,_)}}var c=t.return;try{ul(t)}catch(_){Se(t,c,_)}break;case 5:var f=t.return;try{ul(t)}catch(_){Se(t,f,_)}}}catch(_){Se(t,t.return,_)}if(t===e){W=null;break}var v=t.sibling;if(v!==null){v.return=t.return,W=v;break}W=t.return}}var Uf=Math.ceil,li=L.ReactCurrentDispatcher,hl=L.ReactCurrentOwner,ct=L.ReactCurrentBatchConfig,le=0,Ae=null,je=null,Ue=0,it=0,en=Yt(0),Ne=0,Zn=null,xr=0,ai=0,fl=0,es=null,Ye=null,pl=0,tn=1/0,Ft=null,ui=!1,gl=null,nr=null,ci=!1,sr=null,di=0,ts=0,ml=null,hi=-1,fi=0;function qe(){return(le&6)!==0?Ee():hi!==-1?hi:hi=Ee()}function ir(e){return(e.mode&1)===0?1:(le&2)!==0&&Ue!==0?Ue&-Ue:_f.transition!==null?(fi===0&&(fi=Ra()),fi):(e=he,e!==0||(e=window.event,e=e===void 0?16:za(e.type)),e)}function _t(e,t,r,i){if(50<ts)throw ts=0,ml=null,Error(s(185));bn(e,r,i),((le&2)===0||e!==Ae)&&(e===Ae&&((le&2)===0&&(ai|=r),Ne===4&&or(e,Ue)),Xe(e,i),r===1&&le===0&&(t.mode&1)===0&&(tn=Ee()+500,zs&&Zt()))}function Xe(e,t){var r=e.callbackNode;wh(e,t);var i=xs(e,e===Ae?Ue:0);if(i===0)r!==null&&Na(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Na(r),t===1)e.tag===0?wf(zc.bind(null,e)):ju(zc.bind(null,e)),gf(function(){(le&6)===0&&Zt()}),r=null;else{switch(Aa(i)){case 1:r=Ji;break;case 4:r=Pa;break;case 16:r=ys;break;case 536870912:r=Oa;break;default:r=ys}r=Qc(r,Mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mc(e,t){if(hi=-1,fi=0,(le&6)!==0)throw Error(s(327));var r=e.callbackNode;if(rn()&&e.callbackNode!==r)return null;var i=xs(e,e===Ae?Ue:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=pi(e,i);else{t=i;var l=le;le|=2;var c=Wc();(Ae!==e||Ue!==t)&&(Ft=null,tn=Ee()+500,Er(e,t));do try{Mf();break}catch(v){Bc(e,v)}while(!0);Io(),li.current=c,le=l,je!==null?t=0:(Ae=null,Ue=0,t=Ne)}if(t!==0){if(t===2&&(l=Qi(e),l!==0&&(i=l,t=vl(e,l))),t===1)throw r=Zn,Er(e,0),or(e,i),Xe(e,Ee()),r;if(t===6)or(e,i);else{if(l=e.current.alternate,(i&30)===0&&!Df(l)&&(t=pi(e,i),t===2&&(c=Qi(e),c!==0&&(i=c,t=vl(e,c))),t===1))throw r=Zn,Er(e,0),or(e,i),Xe(e,Ee()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:br(e,Ye,Ft);break;case 3:if(or(e,i),(i&130023424)===i&&(t=pl+500-Ee(),10<t)){if(xs(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=So(br.bind(null,e,Ye,Ft),t);break}br(e,Ye,Ft);break;case 4:if(or(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var f=31-pt(i);c=1<<f,f=t[f],f>l&&(l=f),i&=~c}if(i=l,i=Ee()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Uf(i/1960))-i,10<i){e.timeoutHandle=So(br.bind(null,e,Ye,Ft),i);break}br(e,Ye,Ft);break;case 5:br(e,Ye,Ft);break;default:throw Error(s(329))}}}return Xe(e,Ee()),e.callbackNode===r?Mc.bind(null,e):null}function vl(e,t){var r=es;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=pi(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&yl(t)),e}function yl(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Df(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],c=l.getSnapshot;l=l.value;try{if(!gt(c(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~fl,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pt(t),i=1<<r;e[r]=-1,t&=~i}}function zc(e){if((le&6)!==0)throw Error(s(327));rn();var t=xs(e,0);if((t&1)===0)return Xe(e,Ee()),null;var r=pi(e,t);if(e.tag!==0&&r===2){var i=Qi(e);i!==0&&(t=i,r=vl(e,i))}if(r===1)throw r=Zn,Er(e,0),or(e,t),Xe(e,Ee()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Ye,Ft),Xe(e,Ee()),null}function wl(e,t){var r=le;le|=1;try{return e(t)}finally{le=r,le===0&&(tn=Ee()+500,zs&&Zt())}}function Sr(e){sr!==null&&sr.tag===0&&(le&6)===0&&rn();var t=le;le|=1;var r=ct.transition,i=he;try{if(ct.transition=null,he=1,e)return e()}finally{he=i,ct.transition=r,le=t,(le&6)===0&&Zt()}}function _l(){it=en.current,ve(en)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pf(r)),je!==null)for(r=je.return;r!==null;){var i=r;switch(No(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fs();break;case 3:Yr(),ve(Je),ve(De),Bo();break;case 5:Mo(i);break;case 4:Yr();break;case 13:ve(_e);break;case 19:ve(_e);break;case 10:Lo(i.type._context);break;case 22:case 23:_l()}r=r.return}if(Ae=e,je=e=lr(e.current,null),Ue=it=t,Ne=0,Zn=null,fl=ai=xr=0,Ye=es=null,wr!==null){for(t=0;t<wr.length;t++)if(r=wr[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,c=r.pending;if(c!==null){var f=c.next;c.next=l,i.next=f}r.pending=i}wr=null}return e}function Bc(e,t){do{var r=je;try{if(Io(),Ys.current=ti,Xs){for(var i=ke.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Xs=!1}if(kr=0,Re=Te=ke=null,Kn=!1,Jn=0,hl.current=null,r===null||r.return===null){Ne=1,Zn=t,je=null;break}e:{var c=e,f=r.return,v=r,_=t;if(t=Ue,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var C=_,R=v,A=R.tag;if((R.mode&1)===0&&(A===0||A===11||A===15)){var P=R.alternate;P?(R.updateQueue=P.updateQueue,R.memoizedState=P.memoizedState,R.lanes=P.lanes):(R.updateQueue=null,R.memoizedState=null)}var M=fc(f);if(M!==null){M.flags&=-257,pc(M,f,v,c,t),M.mode&1&&hc(c,C,t),t=M,_=C;var q=t.updateQueue;if(q===null){var V=new Set;V.add(_),t.updateQueue=V}else q.add(_);break e}else{if((t&1)===0){hc(c,C,t),kl();break e}_=Error(s(426))}}else if(we&&v.mode&1){var be=fc(f);if(be!==null){(be.flags&65536)===0&&(be.flags|=256),pc(be,f,v,c,t),Ro(Xr(_,v));break e}}c=_=Xr(_,v),Ne!==4&&(Ne=2),es===null?es=[c]:es.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var E=cc(c,_,t);Uu(c,E);break e;case 1:v=_;var x=c.type,b=c.stateNode;if((c.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(nr===null||!nr.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t;var $=dc(c,v,t);Uu(c,$);break e}}c=c.return}while(c!==null)}qc(r)}catch(K){t=K,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function Wc(){var e=li.current;return li.current=ti,e===null?ti:e}function kl(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Ae===null||(xr&268435455)===0&&(ai&268435455)===0||or(Ae,Ue)}function pi(e,t){var r=le;le|=2;var i=Wc();(Ae!==e||Ue!==t)&&(Ft=null,Er(e,t));do try{Ff();break}catch(l){Bc(e,l)}while(!0);if(Io(),le=r,li.current=i,je!==null)throw Error(s(261));return Ae=null,Ue=0,Ne}function Ff(){for(;je!==null;)Hc(je)}function Mf(){for(;je!==null&&!ch();)Hc(je)}function Hc(e){var t=Jc(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?qc(e):je=t,hl.current=null}function qc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Rf(r,t,it),r!==null){je=r;return}}else{if(r=Af(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,je=null;return}}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ne===0&&(Ne=5)}function br(e,t,r){var i=he,l=ct.transition;try{ct.transition=null,he=1,zf(e,t,r,i)}finally{ct.transition=l,he=i}return null}function zf(e,t,r,i){do rn();while(sr!==null);if((le&6)!==0)throw Error(s(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var c=r.lanes|r.childLanes;if(_h(e,c),e===Ae&&(je=Ae=null,Ue=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ci||(ci=!0,Qc(ys,function(){return rn(),null})),c=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||c){c=ct.transition,ct.transition=null;var f=he;he=1;var v=le;le|=4,hl.current=null,Lf(e,r),Lc(r,e),lf(ko),bs=!!_o,ko=_o=null,e.current=r,$f(r),dh(),le=v,he=f,ct.transition=c}else e.current=r;if(ci&&(ci=!1,sr=e,di=l),c=e.pendingLanes,c===0&&(nr=null),ph(r.stateNode),Xe(e,Ee()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(ui)throw ui=!1,e=gl,gl=null,e;return(di&1)!==0&&e.tag!==0&&rn(),c=e.pendingLanes,(c&1)!==0?e===ml?ts++:(ts=0,ml=e):ts=0,Zt(),null}function rn(){if(sr!==null){var e=Aa(di),t=ct.transition,r=he;try{if(ct.transition=null,he=16>e?16:e,sr===null)var i=!1;else{if(e=sr,sr=null,di=0,(le&6)!==0)throw Error(s(331));var l=le;for(le|=4,W=e.current;W!==null;){var c=W,f=c.child;if((W.flags&16)!==0){var v=c.deletions;if(v!==null){for(var _=0;_<v.length;_++){var C=v[_];for(W=C;W!==null;){var R=W;switch(R.tag){case 0:case 11:case 15:Xn(8,R,c)}var A=R.child;if(A!==null)A.return=R,W=A;else for(;W!==null;){R=W;var P=R.sibling,M=R.return;if(Pc(R),R===C){W=null;break}if(P!==null){P.return=M,W=P;break}W=M}}}var q=c.alternate;if(q!==null){var V=q.child;if(V!==null){q.child=null;do{var be=V.sibling;V.sibling=null,V=be}while(V!==null)}}W=c}}if((c.subtreeFlags&2064)!==0&&f!==null)f.return=c,W=f;else e:for(;W!==null;){if(c=W,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Xn(9,c,c.return)}var E=c.sibling;if(E!==null){E.return=c.return,W=E;break e}W=c.return}}var x=e.current;for(W=x;W!==null;){f=W;var b=f.child;if((f.subtreeFlags&2064)!==0&&b!==null)b.return=f,W=b;else e:for(f=x;W!==null;){if(v=W,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:oi(9,v)}}catch(K){Se(v,v.return,K)}if(v===f){W=null;break e}var $=v.sibling;if($!==null){$.return=v.return,W=$;break e}W=v.return}}if(le=l,Zt(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(ws,e)}catch{}i=!0}return i}finally{he=r,ct.transition=t}}return!1}function Vc(e,t,r){t=Xr(r,t),t=cc(e,t,1),e=tr(e,t,1),t=qe(),e!==null&&(bn(e,1,t),Xe(e,t))}function Se(e,t,r){if(e.tag===3)Vc(e,e,r);else for(;t!==null;){if(t.tag===3){Vc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){e=Xr(r,e),e=dc(t,e,1),t=tr(t,e,1),e=qe(),t!==null&&(bn(t,1,e),Xe(t,e));break}}t=t.return}}function Bf(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Ue&r)===r&&(Ne===4||Ne===3&&(Ue&130023424)===Ue&&500>Ee()-pl?Er(e,0):fl|=r),Xe(e,t)}function Kc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ks,ks<<=1,(ks&130023424)===0&&(ks=4194304)));var r=qe();e=$t(e,t),e!==null&&(bn(e,t,r),Xe(e,r))}function Wf(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kc(e,r)}function Hf(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Kc(e,r)}var Jc;Jc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ge=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ge=!1,Of(e,t,r);Ge=(e.flags&131072)!==0}else Ge=!1,we&&(t.flags&1048576)!==0&&Cu(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;si(e,t),e=t.pendingProps;var l=Hr(t,De.current);Gr(t,r),l=qo(null,t,i,e,l,r);var c=Vo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(i)?(c=!0,Ms(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Do(t),l.updater=ri,t.stateNode=l,l._reactInternals=t,Xo(t,i,e,r),t=rl(null,t,i,!0,c,r)):(t.tag=0,we&&c&&To(t),He(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(si(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Vf(i),e=vt(i,e),l){case 0:t=tl(null,t,i,e,r);break e;case 1:t=_c(null,t,i,e,r);break e;case 11:t=gc(null,t,i,e,r);break e;case 14:t=mc(null,t,i,vt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:vt(i,l),tl(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:vt(i,l),_c(e,t,i,l,r);case 3:e:{if(kc(t),e===null)throw Error(s(387));i=t.pendingProps,c=t.memoizedState,l=c.element,$u(e,t),Qs(t,i,null,r);var f=t.memoizedState;if(i=f.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=Xr(Error(s(423)),t),t=xc(e,t,i,r,l);break e}else if(i!==l){l=Xr(Error(s(424)),t),t=xc(e,t,i,r,l);break e}else for(st=Gt(t.stateNode.containerInfo.firstChild),nt=t,we=!0,mt=null,r=Iu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),i===l){t=Dt(e,t,r);break e}He(e,t,i,r)}t=t.child}return t;case 5:return Fu(t),e===null&&Oo(t),i=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,f=l.children,xo(i,l)?f=null:c!==null&&xo(i,c)&&(t.flags|=32),wc(e,t),He(e,t,f,r),t.child;case 6:return e===null&&Oo(t),null;case 13:return Sc(e,t,r);case 4:return Fo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Jr(t,null,i,r):He(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:vt(i,l),gc(e,t,i,l,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,c=t.memoizedProps,f=l.value,pe(Vs,i._currentValue),i._currentValue=f,c!==null)if(gt(c.value,f)){if(c.children===l.children&&!Je.current){t=Dt(e,t,r);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){f=c.child;for(var _=v.firstContext;_!==null;){if(_.context===i){if(c.tag===1){_=Ut(-1,r&-r),_.tag=2;var C=c.updateQueue;if(C!==null){C=C.shared;var R=C.pending;R===null?_.next=_:(_.next=R.next,R.next=_),C.pending=_}}c.lanes|=r,_=c.alternate,_!==null&&(_.lanes|=r),$o(c.return,r,t),v.lanes|=r;break}_=_.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(s(341));f.lanes|=r,v=f.alternate,v!==null&&(v.lanes|=r),$o(f,r,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}He(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Gr(t,r),l=at(l),i=i(l),t.flags|=1,He(e,t,i,r),t.child;case 14:return i=t.type,l=vt(i,t.pendingProps),l=vt(i.type,l),mc(e,t,i,l,r);case 15:return vc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:vt(i,l),si(e,t),t.tag=1,Qe(i)?(e=!0,Ms(t)):e=!1,Gr(t,r),ac(t,i,l),Xo(t,i,l,r),rl(null,t,i,!0,e,r);case 19:return bc(e,t,r);case 22:return yc(e,t,r)}throw Error(s(156,t.tag))};function Qc(e,t){return Ta(e,t)}function qf(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,r,i){return new qf(e,t,r,i)}function xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vf(e){if(typeof e=="function")return xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===St)return 11;if(e===Et)return 14}return 2}function lr(e,t){var r=e.alternate;return r===null?(r=dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gi(e,t,r,i,l,c){var f=2;if(i=e,typeof e=="function")xl(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ne:return jr(r.children,l,c,t);case Ce:f=8,l|=8;break;case Wt:return e=dt(12,r,t,l|2),e.elementType=Wt,e.lanes=c,e;case et:return e=dt(13,r,t,l),e.elementType=et,e.lanes=c,e;case ft:return e=dt(19,r,t,l),e.elementType=ft,e.lanes=c,e;case xe:return mi(r,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ot:f=10;break e;case fr:f=9;break e;case St:f=11;break e;case Et:f=14;break e;case Ke:f=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=dt(f,r,t,l),t.elementType=e,t.type=i,t.lanes=c,t}function jr(e,t,r,i){return e=dt(7,e,i,t),e.lanes=r,e}function mi(e,t,r,i){return e=dt(22,e,i,t),e.elementType=xe,e.lanes=r,e.stateNode={isHidden:!1},e}function Sl(e,t,r){return e=dt(6,e,null,t),e.lanes=r,e}function El(e,t,r){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kf(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function bl(e,t,r,i,l,c,f,v,_){return e=new Kf(e,t,r,v,_),t===1?(t=1,c===!0&&(t|=8)):t=0,c=dt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(c),e}function Jf(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Gc(e){if(!e)return Xt;e=e._reactInternals;e:{if(pr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(Qe(r))return Eu(e,r,t)}return t}function Yc(e,t,r,i,l,c,f,v,_){return e=bl(r,i,!0,e,l,c,f,v,_),e.context=Gc(null),r=e.current,i=qe(),l=ir(r),c=Ut(i,l),c.callback=t??null,tr(r,c,l),e.current.lanes=l,bn(e,l,i),Xe(e,i),e}function vi(e,t,r,i){var l=t.current,c=qe(),f=ir(l);return r=Gc(r),t.context===null?t.context=r:t.pendingContext=r,t=Ut(c,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=tr(l,t,f),e!==null&&(_t(e,l,f,c),Js(e,l,f)),f}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jl(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function Qf(){return null}var Zc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}wi.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));vi(e,t,null,null)},wi.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){vi(null,e,null,null)}),t[Rt]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=$a();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&Fa(e)}};function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ed(){}function Gf(e,t,r,i,l){if(l){if(typeof i=="function"){var c=i;i=function(){var C=yi(f);c.call(C)}}var f=Yc(t,i,e,0,null,!1,!1,"",ed);return e._reactRootContainer=f,e[Rt]=f.current,Fn(e.nodeType===8?e.parentNode:e),Sr(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var v=i;i=function(){var C=yi(_);v.call(C)}}var _=bl(e,0,!1,null,null,!1,!1,"",ed);return e._reactRootContainer=_,e[Rt]=_.current,Fn(e.nodeType===8?e.parentNode:e),Sr(function(){vi(t,_,r,i)}),_}function ki(e,t,r,i,l){var c=r._reactRootContainer;if(c){var f=c;if(typeof l=="function"){var v=l;l=function(){var _=yi(f);v.call(_)}}vi(t,f,e,l)}else f=Gf(r,t,e,l,i);return yi(f)}Ia=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=En(t.pendingLanes);r!==0&&(Yi(t,r|1),Xe(t,Ee()),(le&6)===0&&(tn=Ee()+500,Zt()))}break;case 13:Sr(function(){var i=$t(e,1);if(i!==null){var l=qe();_t(i,e,1,l)}}),jl(e,1)}},Xi=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var r=qe();_t(t,e,134217728,r)}jl(e,134217728)}},La=function(e){if(e.tag===13){var t=ir(e),r=$t(e,t);if(r!==null){var i=qe();_t(r,e,t,i)}jl(e,t)}},$a=function(){return he},Ua=function(e,t){var r=he;try{return he=e,t()}finally{he=r}},Hi=function(e,t,r){switch(t){case"input":if($i(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Ds(i);if(!l)throw Error(s(90));la(i),$i(i,l)}}}break;case"textarea":ha(e,r);break;case"select":t=r.value,t!=null&&Rr(e,!!r.multiple,t,!1)}},ka=wl,xa=Sr;var Yf={usingClientEntryPoint:!1,Events:[Bn,Br,Ds,wa,_a,wl]},rs={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xf={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ja(e),e===null?null:e.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||Qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{ws=xi.inject(Xf),bt=xi}catch{}}return Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf,Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tl(t))throw Error(s(200));return Jf(e,t,null,r)},Ze.createRoot=function(e,t){if(!Tl(e))throw Error(s(299));var r=!1,i="",l=Zc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=bl(e,1,!1,null,null,r,!1,i,l),e[Rt]=t.current,Fn(e.nodeType===8?e.parentNode:e),new Cl(t)},Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ja(t),e=e===null?null:e.stateNode,e},Ze.flushSync=function(e){return Sr(e)},Ze.hydrate=function(e,t,r){if(!_i(t))throw Error(s(200));return ki(null,e,t,!0,r)},Ze.hydrateRoot=function(e,t,r){if(!Tl(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,l=!1,c="",f=Zc;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=Yc(t,null,e,1,r??null,l,!1,c,f),e[Rt]=t.current,Fn(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new wi(t)},Ze.render=function(e,t,r){if(!_i(t))throw Error(s(200));return ki(null,e,t,!1,r)},Ze.unmountComponentAtNode=function(e){if(!_i(e))throw Error(s(40));return e._reactRootContainer?(Sr(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1},Ze.unstable_batchedUpdates=wl,Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!_i(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ki(e,t,r,!1,i)},Ze.version="18.3.1-next-f1338f8080-20240426",Ze}var ad;function ap(){if(ad)return Ol.exports;ad=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Ol.exports=lp(),Ol.exports}var ud;function up(){if(ud)return Si;ud=1;var u=ap();return Si.createRoot=u.createRoot,Si.hydrateRoot=u.hydrateRoot,Si}var cp=up();const dp="modulepreload",hp=function(u){return"/"+u},cd={},ds=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){let w=function(y){return Promise.all(y.map(k=>Promise.resolve(k).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=w;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=w(s.map(y=>{if(y=hp(y),y in cd)return;cd[y]=!0;const k=y.endsWith(".css"),j=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${j}`))return;const T=document.createElement("link");if(T.rel=k?"stylesheet":dp,k||(T.as="script"),T.crossOrigin="",T.href=y,g&&T.setAttribute("nonce",g),document.head.appendChild(T),k)return new Promise((I,U)=>{T.addEventListener("load",I),T.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return a.then(p=>{for(const g of p||[])g.status==="rejected"&&d(g.reason);return n().catch(d)})},fp=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>vn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class ra extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class pp extends ra{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class dd extends ra{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class hd extends ra{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Wl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Wl||(Wl={}));var gp=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};class mp{constructor(n,{headers:s={},customFetch:o,region:a=Wl.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=fp(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return gp(this,void 0,void 0,function*(){try{const{headers:a,method:d,body:h}=s;let p={},{region:g}=s;g||(g=this.region);const w=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,w.searchParams.set("forceFunctionRegion",g));let y;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(p["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(p["Content-Type"]="application/json",y=JSON.stringify(h)));const k=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y}).catch(U=>{throw new pp(U)}),j=k.headers.get("x-relay-error");if(j&&j==="true")throw new dd(k);if(!k.ok)throw new hd(k);let T=((o=k.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),I;return T==="application/json"?I=yield k.json():T==="application/octet-stream"?I=yield k.blob():T==="text/event-stream"?I=k:T==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof hd||a instanceof dd?a.context:void 0}}})}}var Le={},nn={},sn={},on={},ln={},an={},vp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=vp();const yp=mn.fetch,Ld=mn.fetch.bind(mn),$d=mn.Headers,wp=mn.Request,_p=mn.Response,vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:$d,Request:wp,Response:_p,default:Ld,fetch:yp},Symbol.toStringTag,{value:"Module"})),kp=tp(vn);var Ei={},fd;function Ud(){if(fd)return Ei;fd=1,Object.defineProperty(Ei,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ei.default=u,Ei}var pd;function Dd(){if(pd)return an;pd=1;var u=an&&an.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(an,"__esModule",{value:!0});const n=u(kp),s=u(Ud());class o{constructor(d){var h,p;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(p=d.isMaybeSingle)!==null&&p!==void 0?p:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var y,k,j,T;let I=null,U=null,D=null,z=w.status,Z=w.statusText;if(w.ok){if(this.method!=="HEAD"){const N=await w.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?U=N:U=JSON.parse(N))}const L=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),te=(j=w.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");L&&te&&te.length>1&&(D=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(U)&&(U.length>1?(I={code:"PGRST116",details:`Results contain ${U.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},U=null,D=null,z=406,Z="Not Acceptable"):U.length===1?U=U[0]:U=null)}else{const L=await w.text();try{I=JSON.parse(L),Array.isArray(I)&&w.status===404&&(U=[],I=null,z=200,Z="OK")}catch{w.status===404&&L===""?(z=204,Z="No Content"):I={message:L}}if(I&&this.isMaybeSingle&&(!((T=I?.details)===null||T===void 0)&&T.includes("0 rows"))&&(I=null,z=200,Z="OK"),I&&this.shouldThrowOnError)throw new s.default(I)}return{error:I,data:U,count:D,status:z,statusText:Z}});return this.shouldThrowOnError||(g=g.catch(w=>{var y,k,j;return{error:{message:`${(y=w?.name)!==null&&y!==void 0?y:"FetchError"}: ${w?.message}`,details:`${(k=w?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(j=w?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(d,h)}returns(){return this}overrideTypes(){return this}}return an.default=o,an}var gd;function Fd(){if(gd)return ln;gd=1;var u=ln&&ln.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ln,"__esModule",{value:!0});const n=u(Dd());class s extends n.default{select(a){let d=!1;const h=(a??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:d=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const w=g?`${g}.order`:"order",y=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${y?`${y},`:""}${a}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,d,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,w=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(w,`${d-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:d=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:w="text"}={}){var y;const k=[a?"analyze":null,d?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${w}; for="${j}"; options=${k};`),w==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ln.default=s,ln}var md;function na(){if(md)return on;md=1;var u=on&&on.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(on,"__esModule",{value:!0});const n=u(Fd());class s extends n.default{eq(a,d){return this.url.searchParams.append(a,`eq.${d}`),this}neq(a,d){return this.url.searchParams.append(a,`neq.${d}`),this}gt(a,d){return this.url.searchParams.append(a,`gt.${d}`),this}gte(a,d){return this.url.searchParams.append(a,`gte.${d}`),this}lt(a,d){return this.url.searchParams.append(a,`lt.${d}`),this}lte(a,d){return this.url.searchParams.append(a,`lte.${d}`),this}like(a,d){return this.url.searchParams.append(a,`like.${d}`),this}likeAllOf(a,d){return this.url.searchParams.append(a,`like(all).{${d.join(",")}}`),this}likeAnyOf(a,d){return this.url.searchParams.append(a,`like(any).{${d.join(",")}}`),this}ilike(a,d){return this.url.searchParams.append(a,`ilike.${d}`),this}ilikeAllOf(a,d){return this.url.searchParams.append(a,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(a,d){return this.url.searchParams.append(a,`ilike(any).{${d.join(",")}}`),this}is(a,d){return this.url.searchParams.append(a,`is.${d}`),this}in(a,d){const h=Array.from(new Set(d)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${h})`),this}contains(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cs.{${d.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(d)}`),this}containedBy(a,d){return typeof d=="string"?this.url.searchParams.append(a,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(a,`cd.{${d.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(d)}`),this}rangeGt(a,d){return this.url.searchParams.append(a,`sr.${d}`),this}rangeGte(a,d){return this.url.searchParams.append(a,`nxl.${d}`),this}rangeLt(a,d){return this.url.searchParams.append(a,`sl.${d}`),this}rangeLte(a,d){return this.url.searchParams.append(a,`nxr.${d}`),this}rangeAdjacent(a,d){return this.url.searchParams.append(a,`adj.${d}`),this}overlaps(a,d){return typeof d=="string"?this.url.searchParams.append(a,`ov.${d}`):this.url.searchParams.append(a,`ov.{${d.join(",")}}`),this}textSearch(a,d,{config:h,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const w=h===void 0?"":`(${h})`;return this.url.searchParams.append(a,`${g}fts${w}.${d}`),this}match(a){return Object.entries(a).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(a,d,h){return this.url.searchParams.append(a,`not.${d}.${h}`),this}or(a,{foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,d,h){return this.url.searchParams.append(a,`${d}.${h}`),this}}return on.default=s,on}var vd;function Md(){if(vd)return sn;vd=1;var u=sn&&sn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sn,"__esModule",{value:!0});const n=u(na());class s{constructor(a,{headers:d={},schema:h,fetch:p}){this.url=a,this.headers=new Headers(d),this.schema=h,this.fetch=p}select(a,{head:d=!1,count:h}={}){const p=d?"HEAD":"GET";let g=!1;const w=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",w),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const w=a.reduce((y,k)=>y.concat(Object.keys(k)),[]);if(w.length>0){const y=[...new Set(w)].map(k=>`"${k}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:d,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var w;const y="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const k=a.reduce((j,T)=>j.concat(Object.keys(T)),[]);if(k.length>0){const j=[...new Set(k)].map(T=>`"${T}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}update(a,{count:d}={}){var h;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:a}={}){var d;const h="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return sn.default=s,sn}var yd;function xp(){if(yd)return nn;yd=1;var u=nn&&nn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(nn,"__esModule",{value:!0});const n=u(Md()),s=u(na());class o{constructor(d,{headers:h={},schema:p,fetch:g}={}){this.url=d,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:p=!1,get:g=!1,count:w}={}){var y;let k;const j=new URL(`${this.url}/rpc/${d}`);let T;p||g?(k=p?"HEAD":"GET",Object.entries(h).filter(([U,D])=>D!==void 0).map(([U,D])=>[U,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([U,D])=>{j.searchParams.append(U,D)})):(k="POST",T=h);const I=new Headers(this.headers);return w&&I.set("Prefer",`count=${w}`),new s.default({method:k,url:j,headers:I,schema:this.schemaName,body:T,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return nn.default=o,nn}var wd;function Sp(){if(wd)return Le;wd=1;var u=Le&&Le.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Le,"__esModule",{value:!0}),Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const n=u(xp());Le.PostgrestClient=n.default;const s=u(Md());Le.PostgrestQueryBuilder=s.default;const o=u(na());Le.PostgrestFilterBuilder=o.default;const a=u(Fd());Le.PostgrestTransformBuilder=a.default;const d=u(Dd());Le.PostgrestBuilder=d.default;const h=u(Ud());return Le.PostgrestError=h.default,Le.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:d.default,PostgrestError:h.default},Le}var Ep=Sp();const bp=ep(Ep),{PostgrestClient:jp,PostgrestQueryBuilder:Am,PostgrestFilterBuilder:Im,PostgrestTransformBuilder:Lm,PostgrestBuilder:$m,PostgrestError:Um}=bp;class Cp{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Tp="2.15.5",Np=`realtime-js/${Tp}`,Pp="1.0.0",Hl=1e4,Op=1e3,Rp=100;var ls;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(ls||(ls={}));var Pe;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Pe||(Pe={}));var xt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(xt||(xt={}));var ql;(function(u){u.websocket="websocket"})(ql||(ql={}));var Pr;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Pr||(Pr={}));class Ap{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const a=s.getUint8(1),d=s.getUint8(2);let h=this.HEADER_LENGTH+2;const p=o.decode(n.slice(h,h+a));h=h+a;const g=o.decode(n.slice(h,h+d));h=h+d;const w=JSON.parse(o.decode(n.slice(h,n.byteLength)));return{ref:null,topic:p,event:g,payload:w}}}class zd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(ge||(ge={}));const _d=(u,n,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((d,h)=>(d[h]=Ip(h,u,n,a),d),{})},Ip=(u,n,s,o)=>{const a=n.find(p=>p.name===u),d=a?.type,h=s[u];return d&&!o.includes(d)?Bd(d,h):Vl(h)},Bd=(u,n)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return Dp(n,s)}switch(u){case ge.bool:return Lp(n);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return $p(n);case ge.json:case ge.jsonb:return Up(n);case ge.timestamp:return Fp(n);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Vl(n);default:return Vl(n)}},Vl=u=>u,Lp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},$p=u=>{if(typeof u=="string"){const n=parseFloat(u);if(!Number.isNaN(n))return n}return u},Up=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(n){return console.log(`JSON parse error: ${n}`),u}return u},Dp=(u,n)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let d;const h=u.slice(1,s);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(p=>Bd(n,p))}return u},Fp=u=>typeof u=="string"?u.replace(" ","T"):u,Wd=u=>{let n=u;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class Il{constructor(n,s,o={},a=Hl){this.channel=n,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var kd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(kd||(kd={}));class as{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,a,d,h),this.pendingDiffs.forEach(g=>{this.state=as.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=as.syncDiff(this.state,a,d,h),p())}),this.onJoin((a,d,h)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:d,newPresences:h})}),this.onLeave((a,d,h)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,a){const d=this.cloneDeep(n),h=this.transformState(s),p={},g={};return this.map(d,(w,y)=>{h[w]||(g[w]=y)}),this.map(h,(w,y)=>{const k=d[w];if(k){const j=y.map(D=>D.presence_ref),T=k.map(D=>D.presence_ref),I=y.filter(D=>T.indexOf(D.presence_ref)<0),U=k.filter(D=>j.indexOf(D.presence_ref)<0);I.length>0&&(p[w]=I),U.length>0&&(g[w]=U)}else p[w]=y}),this.syncDiff(d,{joins:p,leaves:g},o,a)}static syncDiff(n,s,o,a){const{joins:d,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(d,(p,g)=>{var w;const y=(w=n[p])!==null&&w!==void 0?w:[];if(n[p]=this.cloneDeep(g),y.length>0){const k=n[p].map(T=>T.presence_ref),j=y.filter(T=>k.indexOf(T.presence_ref)<0);n[p].unshift(...j)}o(p,y,g)}),this.map(h,(p,g)=>{let w=n[p];if(!w)return;const y=g.map(k=>k.presence_ref);w=w.filter(k=>y.indexOf(k.presence_ref)<0),n[p]=w,a(p,w,g),w.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const a=n[o];return"metas"in a?s[o]=a.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[o]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(xd||(xd={}));var us;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(us||(us={}));var Bt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class sa{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Il(this,xt.join,this.params,this.timeout),this.rejoinTimer=new zd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xt.reply,{},(a,d)=>{this._trigger(this._replyEventName(d),a)}),this.presence=new as(this),this.broadcastEndpointURL=Wd(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,a,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,w=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(T=>T.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,k={},j={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:w,private:g};this.socket.accessTokenValue&&(k.access_token=this.socket.accessTokenValue),this._onError(T=>n?.(Bt.CHANNEL_ERROR,T)),this._onClose(()=>n?.(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:j},k)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:T})=>{var I;if(this.socket.setAuth(),T===void 0){n?.(Bt.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,D=(I=U?.length)!==null&&I!==void 0?I:0,z=[];for(let Z=0;Z<D;Z++){const B=U[Z],{filter:{event:L,schema:te,table:N,filter:ne}}=B,Ce=T&&T[Z];if(Ce&&Ce.event===L&&Ce.schema===te&&Ce.table===N&&Ce.filter===ne)z.push(Object.assign(Object.assign({},B),{id:Ce.id}));else{this.unsubscribe(),this.state=Pe.errored,n?.(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,n&&n(Bt.SUBSCRIBED);return}}).receive("error",T=>{this.state=Pe.errored,n?.(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{n?.(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Pe.joined&&n===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){const{event:d,payload:h}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=w.body)===null||a===void 0?void 0:a.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,p,g;const w=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),w.receive("ok",()=>d("ok")),w.receive("error",()=>d("error")),w.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Il(this,xt.leave,{},n),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const a=new AbortController,d=setTimeout(()=>a.abort(),o),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(d),h}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Il(this,n,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Rp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var a,d;const h=n.toLocaleLowerCase(),{close:p,error:g,leave:w,join:y}=xt;if(o&&[p,g,w,y].indexOf(h)>=0&&o!==this._joinRef())return;let j=this._onMessage(h,s,o);if(s&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(T=>{var I,U,D;return((I=T.filter)===null||I===void 0?void 0:I.event)==="*"||((D=(U=T.filter)===null||U===void 0?void 0:U.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===h}).map(T=>T.callback(j,o)):(d=this.bindings[h])===null||d===void 0||d.filter(T=>{var I,U,D,z,Z,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const L=T.id,te=(I=T.filter)===null||I===void 0?void 0:I.event;return L&&((U=s.ids)===null||U===void 0?void 0:U.includes(L))&&(te==="*"||te?.toLocaleLowerCase()===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const L=(Z=(z=T?.filter)===null||z===void 0?void 0:z.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return L==="*"||L===((B=s?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof j=="object"&&"ids"in j){const I=j.data,{schema:U,table:D,commit_timestamp:z,type:Z,errors:B}=I;j=Object.assign(Object.assign({},{schema:U,table:D,commit_timestamp:z,eventType:Z,new:{},old:{},errors:B}),this._getPayloadRecords(I))}T.callback(j,o)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const a=n.toLocaleLowerCase(),d={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(d):this.bindings[a]=[d],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var d;return!(((d=a.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&sa.isEqual(a.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(xt.close,{},n)}_onError(n){this._on(xt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=_d(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=_d(n.columns,n.old_record)),s}}const Ll=()=>{},bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mp=[1e3,2e3,5e3,1e4],zp=1e4,Bp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wp{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hl,this.transport=null,this.heartbeatIntervalMs=bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ll,this.ref=0,this.reconnectTimer=null,this.logger=Ll,this.conn=null,this.sendBuffer=[],this.serializer=new Ap,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...h)=>ds(async()=>{const{default:p}=await Promise.resolve().then(()=>vn);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${ql.websocket}`,this.httpEndpoint=Wd(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pp}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ls.connecting:return Pr.Connecting;case ls.open:return Pr.Open;case ls.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(d=>d.topic===o);if(a)return a;{const d=new sa(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:o,payload:a,ref:d}=n,h=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${d})`,a),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Op,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(w){this.log("error","error in heartbeat callback",w)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:d,ref:h}=s,p=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),d),this.channels.filter(w=>w._isMember(o)).forEach(w=>w._trigger(a,d,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(xt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${o}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([Bp],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:Np};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(xt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${n} callback`,a)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new zd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,a,d,h,p,g,w,y;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Hl,this.heartbeatIntervalMs=(a=n?.heartbeatIntervalMs)!==null&&a!==void 0?a:bi.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Ll,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(k=>Mp[k-1]||zp),this.encode=(w=n?.encode)!==null&&w!==void 0?w:((k,j)=>j(JSON.stringify(k))),this.decode=(y=n?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class ia extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Oe(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class Hp extends ia{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kl extends ia{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var qp=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};const Hd=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>vn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Vp=()=>qp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>vn),void 0)).Response:Response}),Jl=u=>{if(Array.isArray(u))return u.map(s=>Jl(s));if(typeof u=="function"||u!==Object(u))return u;const n={};return Object.entries(u).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[a]=Jl(o)}),n},Kp=u=>{if(typeof u!="object"||u===null)return!1;const n=Object.getPrototypeOf(u);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Or=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};const $l=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Jp=(u,n,s)=>Or(void 0,void 0,void 0,function*(){const o=yield Vp();u instanceof o&&!s?.noResolveJson?u.json().then(a=>{const d=u.status||500,h=a?.statusCode||d+"";n(new Hp($l(a),d,h))}).catch(a=>{n(new Kl($l(a),a))}):n(new Kl($l(u),u))}),Qp=(u,n,s,o)=>{const a={method:u,headers:n?.headers||{}};return u==="GET"||!o?a:(Kp(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),a.body=JSON.stringify(o)):a.body=o,n?.duplex&&(a.duplex=n.duplex),Object.assign(Object.assign({},a),s))};function hs(u,n,s,o,a,d){return Or(this,void 0,void 0,function*(){return new Promise((h,p)=>{u(s,Qp(n,o,a,d)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Jp(g,p,o))})})}function Ni(u,n,s,o){return Or(this,void 0,void 0,function*(){return hs(u,"GET",n,s,o)})}function Pt(u,n,s,o,a){return Or(this,void 0,void 0,function*(){return hs(u,"POST",n,o,a,s)})}function Ql(u,n,s,o,a){return Or(this,void 0,void 0,function*(){return hs(u,"PUT",n,o,a,s)})}function Gp(u,n,s,o){return Or(this,void 0,void 0,function*(){return hs(u,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function qd(u,n,s,o,a){return Or(this,void 0,void 0,function*(){return hs(u,"DELETE",n,o,a,s)})}var Ve=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};const Yp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xp{constructor(n,s={},o,a){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=o,this.fetch=Hd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,o,a){return Ve(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Sd),a);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",this.encodeMetadata(g))):(d=o,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const w=this._removeEmptyFolders(s),y=this._getFinalPath(w),k=yield(n=="PUT"?Ql:Pt)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:w,id:k.Id,fullPath:k.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Oe(d))return{data:null,error:d};throw d}})}upload(n,s,o){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,a){return Ve(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",s);try{let g;const w=Object.assign({upsert:Sd.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",w.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",w.cacheControl)):(g=o,y["cache-control"]=`max-age=${w.cacheControl}`,y["content-type"]=w.contentType);const k=yield Ql(this.fetch,p.toString(),g,{headers:y});return{data:{path:d,fullPath:k.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Oe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return Ve(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const d=yield Pt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),h=new URL(this.url+d.url),p=h.searchParams.get("token");if(!p)throw new ia("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}update(n,s,o){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return Ve(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}copy(n,s,o){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,o){return Ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),d=yield Pt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,o){return Ve(this,void 0,void 0,function*(){try{const a=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}download(n,s){return Ve(this,void 0,void 0,function*(){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),h=d?`?${d}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Ni(this.fetch,`${this.url}/${a}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Oe(p))return{data:null,error:p};throw p}})}info(n){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ni(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}exists(n){return Ve(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Gp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o)&&o instanceof Kl){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),a=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&a.push(d);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&a.push(g);let w=a.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${w}`)}}}remove(n){return Ve(this,void 0,void 0,function*(){try{return{data:yield qd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}list(n,s,o){return Ve(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Yp),s),{prefix:n||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Oe(a))return{data:null,error:a};throw a}})}listV2(n,s){return Ve(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Zp="2.12.1",eg={"X-Client-Info":`storage-js/${Zp}`};var un=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};class tg{constructor(n,s={},o,a){this.shouldThrowOnError=!1;const d=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},eg),s),this.fetch=Hd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return un(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}getBucket(n){return un(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return un(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return un(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Oe(o))return{data:null,error:o};throw o}})}emptyBucket(n){return un(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}deleteBucket(n){return un(this,void 0,void 0,function*(){try{return{data:yield qd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}}class rg extends tg{constructor(n,s={},o,a){super(n,s,o,a)}from(n){return new Xp(this.url,this.headers,n,this.fetch)}}const ng="2.57.4";let ss="";typeof Deno<"u"?ss="deno":typeof document<"u"?ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ss="react-native":ss="node";const sg={"X-Client-Info":`supabase-js-${ss}/${ng}`},ig={headers:sg},og={schema:"public"},lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ag={};var ug=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};const cg=u=>{let n;return u?n=u:typeof fetch>"u"?n=Ld:n=fetch,(...s)=>n(...s)},dg=()=>typeof Headers>"u"?$d:Headers,hg=(u,n,s)=>{const o=cg(s),a=dg();return(d,h)=>ug(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:u;let w=new a(h?.headers);return w.has("apikey")||w.set("apikey",u),w.has("Authorization")||w.set("Authorization",`Bearer ${g}`),o(d,Object.assign(Object.assign({},h),{headers:w}))})};var fg=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};function pg(u){return u.endsWith("/")?u:u+"/"}function gg(u,n){var s,o;const{db:a,auth:d,realtime:h,global:p}=u,{db:g,auth:w,realtime:y,global:k}=n,j={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},w),d),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},k),p),{headers:Object.assign(Object.assign({},(s=k?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>fg(this,void 0,void 0,function*(){return""})};return u.accessToken?j.accessToken=u.accessToken:delete j.accessToken,j}function mg(u){const n=u?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pg(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vd="2.71.1",pn=30*1e3,Gl=3,Ul=Gl*pn,vg="http://localhost:9999",yg="supabase.auth.token",wg={"X-Client-Info":`gotrue-js/${Vd}`},Yl="X-Supabase-Api-Version",Kd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_g=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kg=600*1e3;class oa extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function ee(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class xg extends oa{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Sg(u){return ee(u)&&u.name==="AuthApiError"}class Jd extends oa{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class hr extends oa{constructor(n,s,o,a){super(n,o,a),this.name=s,this.status=o}}class cr extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eg(u){return ee(u)&&u.name==="AuthSessionMissingError"}class ji extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ci extends hr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ti extends hr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bg(u){return ee(u)&&u.name==="AuthImplicitGrantRedirectError"}class Ed extends hr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xl extends hr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Dl(u){return ee(u)&&u.name==="AuthRetryableFetchError"}class bd extends hr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Zl extends hr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jd=` 	
\r=`.split(""),jg=(()=>{const u=new Array(128);for(let n=0;n<u.length;n+=1)u[n]=-1;for(let n=0;n<jd.length;n+=1)u[jd[n].charCodeAt(0)]=-2;for(let n=0;n<Pi.length;n+=1)u[Pi[n].charCodeAt(0)]=n;return u})();function Cd(u,n,s){if(u!==null)for(n.queue=n.queue<<8|u,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Pi[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Pi[o]),n.queuedBits-=6}}function Qd(u,n,s){const o=jg[u];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Td(u){const n=[],s=h=>{n.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},d=h=>{Ng(h,o,s)};for(let h=0;h<u.length;h+=1)Qd(u.charCodeAt(h),a,d);return n.join("")}function Cg(u,n){if(u<=127){n(u);return}else if(u<=2047){n(192|u>>6),n(128|u&63);return}else if(u<=65535){n(224|u>>12),n(128|u>>6&63),n(128|u&63);return}else if(u<=1114111){n(240|u>>18),n(128|u>>12&63),n(128|u>>6&63),n(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Tg(u,n){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Cg(o,n)}}function Ng(u,n,s){if(n.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=u&31;else if(n.utf8seq===3)n.codepoint=u&15;else if(n.utf8seq===4)n.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|u&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Pg(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<u.length;a+=1)Qd(u.charCodeAt(a),s,o);return new Uint8Array(n)}function Og(u){const n=[];return Tg(u,s=>n.push(s)),new Uint8Array(n)}function Rg(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};return u.forEach(a=>Cd(a,s,o)),Cd(null,s,o),n.join("")}function Ag(u){return Math.round(Date.now()/1e3)+u}function Ig(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const n=Math.random()*16|0;return(u=="x"?n:n&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},Gd=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cr.tested)return Cr.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable};function Lg(u){const n={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,d)=>{n[d]=a})}catch{}return s.searchParams.forEach((o,a)=>{n[a]=o}),n}const Yd=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>ds(async()=>{const{default:o}=await Promise.resolve().then(()=>vn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},$g=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",gn=async(u,n,s)=>{await u.setItem(n,JSON.stringify(s))},Tr=async(u,n)=>{const s=await u.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ur=async(u,n)=>{await u.removeItem(n)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Oi.promiseConstructor=Promise;function Fl(u){const n=u.split(".");if(n.length!==3)throw new Zl("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!_g.test(n[o]))throw new Zl("JWT not in base64url format");return{header:JSON.parse(Td(n[0])),payload:JSON.parse(Td(n[1])),signature:Pg(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ug(u){return await new Promise(n=>{setTimeout(()=>n(null),u)})}function Dg(u,n){return new Promise((o,a)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await u(d);if(!n(d,null,h)){o(h);return}}catch(h){if(!n(d,h)){a(h);return}}})()})}function Fg(u){return("0"+u.toString(16)).substr(-2)}function Mg(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let d=0;d<56;d++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,Fg).join("")}async function zg(u){const s=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(d=>String.fromCharCode(d)).join("")}async function Bg(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await zg(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cn(u,n,s=!1){const o=Mg();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await gn(u,`${n}-code-verifier`,a);const d=await Bg(o);return[d,o===d?"plain":"s256"]}const Wg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hg(u){const n=u.headers.get(Yl);if(!n||!n.match(Wg))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function qg(u){if(!u)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(u<=n)throw new Error("JWT has expired")}function Vg(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dn(u){if(!Kg.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ml(){const u={};return new Proxy(u,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nd(u){return JSON.parse(JSON.stringify(u))}var Jg=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};const Nr=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),Qg=[502,503,504];async function Pd(u){var n;if(!$g(u))throw new Xl(Nr(u),0);if(Qg.includes(u.status))throw new Xl(Nr(u),u.status);let s;try{s=await u.json()}catch(d){throw new Jd(Nr(d),d)}let o;const a=Hg(u);if(a&&a.getTime()>=Kd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new bd(Nr(s),u.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new cr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new bd(Nr(s),u.status,s.weak_password.reasons);throw new xg(Nr(s),u.status||500,o)}const Gg=(u,n,s,o)=>{const a={method:u,headers:n?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function oe(u,n,s,o){var a;const d=Object.assign({},o?.headers);d[Yl]||(d[Yl]=Kd["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const h=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Yg(u,n,s+p,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function Yg(u,n,s,o,a,d){const h=Gg(n,o,a,d);let p;try{p=await u(s,Object.assign({},h))}catch(g){throw console.error(g),new Xl(Nr(g),0)}if(p.ok||await Pd(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await Pd(g)}}function Mt(u){var n;let s=null;tm(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Ag(u.expires_in)));const o=(n=u.user)!==null&&n!==void 0?n:u;return{data:{session:s,user:o},error:null}}function Od(u){const n=Mt(u);return!n.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=u.weak_password),n}function dr(u){var n;return{data:{user:(n=u.user)!==null&&n!==void 0?n:u},error:null}}function Xg(u){return{data:u,error:null}}function Zg(u){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:d}=u,h=Jg(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:d},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function em(u){return u}function tm(u){return u.access_token&&u.refresh_token&&u.expires_in}const zl=["global","local","others"];var rm=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class nm{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=Yd(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=zl[0]){if(zl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zl.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:dr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=rm(n,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Zg,redirectTo:s?.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:dr})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,a,d,h,p,g;try{const w={nextPage:null,lastPage:0,total:0},y=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(d=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&d!==void 0?d:""},xform:em});if(y.error)throw y.error;const k=await y.json(),j=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(I=>{const U=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(I.split(";")[1].split("=")[1]);w[`${D}Page`]=U}),w.total=parseInt(j)),{data:Object.assign(Object.assign({},k),w),error:null}}catch(w){if(ee(w))return{data:{users:[]},error:w};throw w}}async getUserById(n){dn(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:dr})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){dn(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:dr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){dn(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:dr})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){dn(n.userId);try{const{data:s,error:o}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(n){dn(n.userId),dn(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}function Rd(u={}){return{getItem:n=>u[n]||null,setItem:(n,s)=>{u[n]=s},removeItem:n=>{delete u[n]}}}function sm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hn={debug:!!(globalThis&&Gd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xd extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class im extends Xd{}async function om(u,n,s){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await s()}finally{hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(n===0)throw hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new im(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(hn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}sm();const lm={url:vg,storageKey:yg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ad(u,n,s){return await s()}const fn={};class cs{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cs.nextInstanceID,cs.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},lm),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new nm({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Yd(a.fetch),this.lock=a.lock||Ad,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:kt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=om:this.lock=Ad,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Gd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Rd(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=fn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=fn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vd}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Lg(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),kt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:d}=await this._getSessionFromURL(s,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),bg(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?{error:s}:{error:new Jd("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,a;try{const d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Mt}),{data:h,error:p}=d;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,w=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(d){if(ee(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var s,o,a;try{let d;if("email"in n){const{email:y,password:k,options:j}=n;let T=null,I=null;this.flowType==="pkce"&&([T,I]=await cn(this.storage,this.storageKey)),d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:y,password:k,data:(s=j?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:T,code_challenge_method:I},xform:Mt})}else if("phone"in n){const{phone:y,password:k,options:j}=n;d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:k,data:(o=j?.data)!==null&&o!==void 0?o:{},channel:(a=j?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Mt})}else throw new Ci("You must provide either an email or phone number and a password");const{data:h,error:p}=d;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,w=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(d){if(ee(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:h,options:p}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Od})}else if("phone"in n){const{phone:d,password:h,options:p}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Od})}else throw new Ci("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ji}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,a,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,a,d,h,p,g,w,y,k,j,T;let I,U;if("message"in n)I=n.message,U=n.signature;else{const{chain:D,wallet:z,statement:Z,options:B}=n;let L;if(kt())if(typeof z=="object")L=z;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))L=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=z}const te=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in L&&L.signIn){const N=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),Z?{statement:Z}:null));let ne;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")ne=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)ne=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)I=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),U=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${te.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(a=(o=B?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((w=B?.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((k=(y=B?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||k===void 0)&&k.length?["Resources",...B.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const N=await L.signMessage(new TextEncoder().encode(I),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=N}}try{const{data:D,error:z}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:Rg(U)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(T=n.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Mt});if(z)throw z;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new ji}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:z})}catch(D){if(ee(D))return{data:{user:null,session:null},error:D};throw D}}async _exchangeCodeForSession(n){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:d,error:h}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Mt});if(await ur(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ji}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:a??null}),error:h})}catch(d){if(ee(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:s,provider:o,token:a,access_token:d,nonce:h}=n,p=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Mt}),{data:g,error:w}=p;return w?{data:{user:null,session:null},error:w}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ji}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:w})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,a,d,h;try{if("email"in n){const{email:p,options:g}=n;let w=null,y=null;this.flowType==="pkce"&&([w,y]=await cn(this.storage,this.storageKey));const{error:k}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:w,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:k}}if("phone"in n){const{phone:p,options:g}=n,{data:w,error:y}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:w?.message_id},error:y}}throw new Ci("You must provide either an email or phone number.")}catch(p){if(ee(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let a,d;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:a,xform:Mt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,w=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,o,a;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await cn(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Xg})}catch(d){if(ee(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new cr;const{error:a}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:d}=n,{error:h}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:o,type:a,options:d}=n,{data:h,error:p}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new Ci("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ul:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const h=await Tr(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Ml()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,w,y)=>(!h&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,w,y))})}return{data:{session:n},error:null}}const{session:a,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:dr}):await this._useSession(async s=>{var o,a,d;const{data:h,error:p}=s;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(a=h.session)===null||a===void 0?void 0:a.access_token)!==null&&d!==void 0?d:void 0,xform:dr})})}catch(s){if(ee(s))return Eg(s)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:a,error:d}=o;if(d)throw d;if(!a.session)throw new cr;const h=a.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await cn(this.storage,this.storageKey));const{data:w,error:y}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:dr});if(y)throw y;return h.user=w.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new cr;const s=Date.now()/1e3;let o=s,a=!0,d=null;const{payload:h}=Fl(n.access_token);if(h.exp&&(o=h.exp,a=o<=s),a){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:h,error:p}=s;if(p)throw p;n=(o=h.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new cr;const{session:a,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!kt())throw new Ti("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ti(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ti("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ed("No code detected.");const{data:Z,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:d,refresh_token:h,expires_in:p,expires_at:g,token_type:w}=n;if(!d||!p||!h||!w)throw new Ti("No session defined in URL");const y=Math.round(Date.now()/1e3),k=parseInt(p);let j=y+k;g&&(j=parseInt(g));const T=j-y;T*1e3<=pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${k}s`);const I=j-k;y-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,j,y):y-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,j,y);const{data:U,error:D}=await this._getUser(d);if(D)throw D;const z={provider_token:o,provider_refresh_token:a,access_token:d,expires_in:k,expires_at:j,refresh_token:h,token_type:w,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:n.type},error:null}}catch(o){if(ee(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:d}=s;if(d)return{error:d};const h=(o=a.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,n);if(p&&!(Sg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Ig(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,a;try{const{data:{session:d},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await cn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(ee(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:a}=await this._useSession(async d=>{var h,p,g,w,y;const{data:k,error:j}=d;if(j)throw j;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(w=k.session)===null||w===void 0?void 0:w.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return kt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(ee(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,a;const{data:d,error:h}=s;if(h)throw h;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Dg(async a=>(a>0&&await Ug(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Mt})),(a,d)=>{const h=200*Math.pow(2,a);return d&&Dl(d)&&Date.now()+h-o<pn})}catch(o){if(this._debug(s,"error",o),ee(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),kt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Tr(this.storage,this.storageKey);if(a&&this.userStorage){let h=await Tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:a.user},await gn(this.userStorage,this.storageKey+"-user",h)),a.user=(n=h?.user)!==null&&n!==void 0?n:Ml()}else if(a&&!a.user&&!a.user){const h=await Tr(this.storage,this.storageKey+"-user");h&&h?.user?(a.user=h.user,await ur(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,a)):a.user=Ml()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const d=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ul;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Ul}s`),d){if(this.autoRefreshToken&&a.refresh_token){const{error:h}=await this._callRefreshToken(a.refresh_token);h&&(console.error(h),Dl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(a.access_token);!p&&h?.user?(a.user=h.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Oi;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new cr;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={session:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(a,"error",d),ee(d)){const h={session:null,error:d};return Dl(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await gn(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const d=Nd(a);await gn(this.storage,this.storageKey,d)}else{const a=Nd(s);await gn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&kt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),pn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pn}ms, refresh threshold is ${Gl} ticks`),a<=Gl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Xd)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,h]=await cn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});a.push(p.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);a.push(d.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;return d?{data:null,error:d}:await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,a;const{data:d,error:h}=s;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:w}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return w?{data:null,error:w}:(n.factorType==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;if(d)return{data:null,error:d};const{data:h,error:p}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:d}=s;return d?{data:null,error:d}:await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],a=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:a,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:a},error:d}=n;if(d)return{data:null,error:d};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Fl(a.access_token);let p=null;h.aal&&(p=h.aal);let g=p;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(k=>k.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+kg>a)return o;const{data:d,error:h}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=a,o=d.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:T,error:I}=await this.getSession();if(I||!T.session)return{data:null,error:I};o=T.session.access_token}const{header:a,payload:d,signature:h,raw:{header:p,payload:g}}=Fl(o);s?.allowExpired||qg(d.exp);const w=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!w){const{error:T}=await this.getUser(o);if(T)throw T;return{data:{claims:d,header:a,signature:h},error:null}}const y=Vg(a.alg),k=await crypto.subtle.importKey("jwk",w,y,!0,["verify"]);if(!await crypto.subtle.verify(y,k,h,Og(`${p}.${g}`)))throw new Zl("Invalid JWT signature");return{data:{claims:d,header:a,signature:h},error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}}cs.nextInstanceID=0;const am=cs;class um extends am{constructor(n){super(n)}}var cm=function(u,n,s,o){function a(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{w(o.next(y))}catch(k){h(k)}}function g(y){try{w(o.throw(y))}catch(k){h(k)}}function w(y){y.done?d(y.value):a(y.value).then(p,g)}w((o=o.apply(u,n||[])).next())})};class dm{constructor(n,s,o){var a,d,h;this.supabaseUrl=n,this.supabaseKey=s;const p=mg(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:og,realtime:ag,auth:Object.assign(Object.assign({},lg),{storageKey:g}),global:ig},y=gg(o??{},w);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(k,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=hg(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new jp(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new rg(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new mp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return cm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:d,storageKey:h,flowType:p,lock:g,debug:w},y,k){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new um({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),y),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:d,flowType:p,lock:g,debug:w,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Wp(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hm=(u,n,s)=>new dm(u,n,s);function fm(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const n=u.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}fm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Zd="https://sknntmgjebveigpowisx.supabase.co",pm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrbm50bWdqZWJ2ZWlncG93aXN4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MjIxODEsImV4cCI6MjA4MDM5ODE4MX0.hEeeVaLt8YCNtseq1s--zCWKjob-8M9OhW2nmliYhXc",zt=hm(Zd,pm),Be=`${Zd}/functions/v1`,eh=G.createContext(void 0),Ri=()=>{const u=G.useContext(eh);if(!u)throw new Error("useAuth must be used within an AuthProvider");return u},gm=({children:u})=>{const[n,s]=G.useState(null),[o,a]=G.useState(null),[d,h]=G.useState(!0);G.useEffect(()=>{zt.auth.getSession().then(({data:{session:j}})=>{a(j),s(j?.user??null),h(!1)});const{data:{subscription:k}}=zt.auth.onAuthStateChange((j,T)=>{(async()=>(a(T),s(T?.user??null)))()});return()=>k.unsubscribe()},[]);const y={user:n,session:o,loading:d,signIn:async(k,j)=>{const{error:T}=await zt.auth.signInWithPassword({email:k,password:j});if(T)throw T},signUp:async(k,j,T)=>{const{error:I}=await zt.auth.signUp({email:k,password:j});if(I)throw I;const{error:U}=await zt.auth.signInWithPassword({email:k,password:j});if(U)throw U;const{data:{session:D}}=await zt.auth.getSession();if(!D)throw new Error("Failed to get session after sign up");const{error:z}=await zt.from("profiles").insert({id:D.user.id,email:k,full_name:T});if(z)throw z},signOut:async()=>{const{error:k}=await zt.auth.signOut();if(k)throw k}};return m.jsx(eh.Provider,{value:y,children:u})},mm=({onToggle:u})=>{const{signIn:n}=Ri(),[s,o]=G.useState(""),[a,d]=G.useState(""),[h,p]=G.useState(""),[g,w]=G.useState(!1),y=async k=>{k.preventDefault(),p(""),w(!0);try{await n(s,a)}catch(j){p(j instanceof Error?j.message:"Failed to sign in")}finally{w(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-slate-100",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Library Management"}),m.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),h&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:h}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),m.jsx("input",{id:"email",type:"email",value:s,onChange:k=>o(k.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),m.jsx("input",{id:"password",type:"password",value:a,onChange:k=>d(k.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:g?"Signing in...":"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Don't have an account? Sign up"})})]})})},vm=({onToggle:u})=>{const{signUp:n}=Ri(),[s,o]=G.useState(""),[a,d]=G.useState(""),[h,p]=G.useState(""),[g,w]=G.useState(""),[y,k]=G.useState(!1),j=async T=>{T.preventDefault(),w(""),k(!0);try{await n(s,a,h)}catch(I){w(I instanceof Error?I.message:"Failed to sign up")}finally{k(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-slate-100",children:m.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Create Account"}),m.jsx("p",{className:"text-slate-600",children:"Sign up to get started"})]}),g&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:g}),m.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),m.jsx("input",{id:"fullName",type:"text",value:h,onChange:T=>p(T.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),m.jsx("input",{id:"email",type:"email",value:s,onChange:T=>o(T.target.value),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),m.jsx("input",{id:"password",type:"password",value:a,onChange:T=>d(T.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:y?"Creating account...":"Sign Up"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Already have an account? Sign in"})})]})})};var ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wm=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ht=(u,n)=>{const s=G.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:d=2,absoluteStrokeWidth:h,className:p="",children:g,...w},y)=>G.createElement("svg",{ref:y,...ym,width:a,height:a,stroke:o,strokeWidth:h?Number(d)*24/Number(a):d,className:["lucide",`lucide-${wm(u)}`,p].join(" "),...w},[...n.map(([k,j])=>G.createElement(k,j)),...Array.isArray(g)?g:[g]]));return s.displayName=`${u}`,s};const _m=ht("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);const Id=ht("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const km=ht("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const xm=ht("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Sm=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ai=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Em=ht("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const bm=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const th=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const rh=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const jm=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ii=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),We=async()=>{const{data:{session:u}}=await zt.auth.getSession();return{Authorization:`Bearer ${u?.access_token}`,"Content-Type":"application/json"}},is={getAll:async()=>{const u=await We(),n=await fetch(`${Be}/authors`,{headers:u});if(!n.ok)throw new Error("Failed to fetch authors");return n.json()},getById:async u=>{const n=await We(),s=await fetch(`${Be}/authors/${u}`,{headers:n});if(!s.ok)throw new Error("Failed to fetch author");return s.json()},create:async u=>{const n=await We(),s=await fetch(`${Be}/authors`,{method:"POST",headers:n,body:JSON.stringify(u)});if(!s.ok)throw new Error("Failed to create author");return s.json()},update:async(u,n)=>{const s=await We(),o=await fetch(`${Be}/authors/${u}`,{method:"PUT",headers:s,body:JSON.stringify(n)});if(!o.ok)throw new Error("Failed to update author");return o.json()},delete:async u=>{const n=await We();if(!(await fetch(`${Be}/authors/${u}`,{method:"DELETE",headers:n})).ok)throw new Error("Failed to delete author")}},os={getAll:async u=>{const n=await We(),s=new URLSearchParams;u?.author_id&&s.append("author_id",u.author_id),u?.available!==void 0&&s.append("available",String(u.available)),u?.search&&s.append("search",u.search);const o=`${Be}/books${s.toString()?"?"+s.toString():""}`,a=await fetch(o,{headers:n});if(!a.ok)throw new Error("Failed to fetch books");return a.json()},getById:async u=>{const n=await We(),s=await fetch(`${Be}/books/${u}`,{headers:n});if(!s.ok)throw new Error("Failed to fetch book");return s.json()},create:async u=>{const n=await We(),s=await fetch(`${Be}/books`,{method:"POST",headers:n,body:JSON.stringify(u)});if(!s.ok)throw new Error("Failed to create book");return s.json()},update:async(u,n)=>{const s=await We(),o=await fetch(`${Be}/books/${u}`,{method:"PUT",headers:s,body:JSON.stringify(n)});if(!o.ok)throw new Error("Failed to update book");return o.json()},delete:async u=>{const n=await We();if(!(await fetch(`${Be}/books/${u}`,{method:"DELETE",headers:n})).ok)throw new Error("Failed to delete book")}},ea={getAll:async()=>{const u=await We(),n=await fetch(`${Be}/users`,{headers:u});if(!n.ok)throw new Error("Failed to fetch users");return n.json()},getById:async u=>{const n=await We(),s=await fetch(`${Be}/users/${u}`,{headers:n});if(!s.ok)throw new Error("Failed to fetch user");return s.json()},create:async u=>{const n=await We(),s=await fetch(`${Be}/users`,{method:"POST",headers:n,body:JSON.stringify(u)});if(!s.ok)throw new Error("Failed to create user");return s.json()}},Bl={getAll:async u=>{const n=await We(),s=new URLSearchParams;u?.user_id&&s.append("user_id",u.user_id),u?.active_only&&s.append("active_only","true");const o=`${Be}/borrowings${s.toString()?"?"+s.toString():""}`,a=await fetch(o,{headers:n});if(!a.ok)throw new Error("Failed to fetch borrowings");return a.json()},borrow:async u=>{const n=await We(),s=await fetch(`${Be}/borrowings/borrow`,{method:"POST",headers:n,body:JSON.stringify(u)});if(!s.ok){const o=await s.json();throw new Error(o.error||"Failed to borrow book")}return s.json()},return:async u=>{const n=await We(),s=await fetch(`${Be}/borrowings/return`,{method:"POST",headers:n,body:JSON.stringify({borrowing_id:u})});if(!s.ok){const o=await s.json();throw new Error(o.error||"Failed to return book")}return s.json()}},Cm=()=>{const[u,n]=G.useState([]),[s,o]=G.useState(!0),[a,d]=G.useState(!1),[h,p]=G.useState(null),[g,w]=G.useState({name:"",bio:""}),[y,k]=G.useState("");G.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const z=await is.getAll();n(z)}catch(z){k(z instanceof Error?z.message:"Failed to load authors")}finally{o(!1)}},T=async z=>{z.preventDefault(),k("");try{h?await is.update(h.id,g):await is.create(g),d(!1),p(null),w({name:"",bio:""}),j()}catch(Z){k(Z instanceof Error?Z.message:"Failed to save author")}},I=z=>{p(z),w({name:z.name,bio:z.bio}),d(!0)},U=async z=>{if(confirm("Are you sure you want to delete this author?"))try{await is.delete(z),j()}catch(Z){k(Z instanceof Error?Z.message:"Failed to delete author")}},D=()=>{d(!1),p(null),w({name:"",bio:""}),k("")};return s?m.jsx("div",{className:"text-center py-8",children:"Loading authors..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Authors"}),!a&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Ai,{className:"w-4 h-4"}),m.jsx("span",{children:"Add Author"})]})]}),y&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:y}),a&&m.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:h?"Edit Author":"New Author"}),m.jsx("button",{onClick:D,className:"text-slate-500 hover:text-slate-700",children:m.jsx(Ii,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:T,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Name *"}),m.jsx("input",{type:"text",value:g.name,onChange:z=>w({...g,name:z.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Author name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Biography"}),m.jsx("textarea",{value:g.bio,onChange:z=>w({...g,bio:z.target.value}),rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief biography..."})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:h?"Update":"Create"}),m.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),m.jsx("div",{className:"grid gap-4",children:u.length===0?m.jsx("p",{className:"text-center text-slate-500 py-8",children:"No authors found. Add your first author!"}):u.map(z=>m.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:z.name}),m.jsx("p",{className:"text-slate-600 mt-1",children:z.bio||"No biography available"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>I(z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:m.jsx(th,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>U(z.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(rh,{className:"w-4 h-4"})})]})]})},z.id))})]})},Tm=()=>{const[u,n]=G.useState([]),[s,o]=G.useState([]),[a,d]=G.useState(!0),[h,p]=G.useState(!1),[g,w]=G.useState(null),[y,k]=G.useState({title:"",isbn:"",author_id:"",description:"",published_year:new Date().getFullYear()}),[j,T]=G.useState({search:"",author_id:"",available:""}),[I,U]=G.useState("");G.useEffect(()=>{D(),z()},[]),G.useEffect(()=>{z()},[j]);const D=async()=>{try{const N=await is.getAll();o(N)}catch(N){console.error("Failed to load authors:",N)}},z=async()=>{try{d(!0);const N={};j.search&&(N.search=j.search),j.author_id&&(N.author_id=j.author_id),j.available&&(N.available=j.available==="true");const ne=await os.getAll(N);n(ne)}catch(N){U(N instanceof Error?N.message:"Failed to load books")}finally{d(!1)}},Z=async N=>{N.preventDefault(),U("");try{g?await os.update(g.id,y):await os.create(y),p(!1),w(null),k({title:"",isbn:"",author_id:"",description:"",published_year:new Date().getFullYear()}),z()}catch(ne){U(ne instanceof Error?ne.message:"Failed to save book")}},B=N=>{w(N),k({title:N.title,isbn:N.isbn,author_id:N.author_id,description:N.description,published_year:N.published_year}),p(!0)},L=async N=>{if(confirm("Are you sure you want to delete this book?"))try{await os.delete(N),z()}catch(ne){U(ne instanceof Error?ne.message:"Failed to delete book")}},te=()=>{p(!1),w(null),k({title:"",isbn:"",author_id:"",description:"",published_year:new Date().getFullYear()}),U("")};return a&&u.length===0?m.jsx("div",{className:"text-center py-8",children:"Loading books..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Books"}),!h&&m.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Ai,{className:"w-4 h-4"}),m.jsx("span",{children:"Add Book"})]})]}),I&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:I}),!h&&m.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[m.jsx(xm,{className:"w-4 h-4 text-slate-600"}),m.jsx("h3",{className:"font-medium text-slate-700",children:"Filters"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),m.jsx("input",{type:"text",value:j.search,onChange:N=>T({...j,search:N.target.value}),placeholder:"Search books...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("select",{value:j.author_id,onChange:N=>T({...j,author_id:N.target.value}),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"",children:"All Authors"}),s.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]}),m.jsxs("select",{value:j.available,onChange:N=>T({...j,available:N.target.value}),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"",children:"All Books"}),m.jsx("option",{value:"true",children:"Available"}),m.jsx("option",{value:"false",children:"Borrowed"})]})]})]}),h&&m.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:g?"Edit Book":"New Book"}),m.jsx("button",{onClick:te,className:"text-slate-500 hover:text-slate-700",children:m.jsx(Ii,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title *"}),m.jsx("input",{type:"text",value:y.title,onChange:N=>k({...y,title:N.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Book title"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ISBN *"}),m.jsx("input",{type:"text",value:y.isbn,onChange:N=>k({...y,isbn:N.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ISBN"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Author *"}),m.jsxs("select",{value:y.author_id,onChange:N=>k({...y,author_id:N.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"",children:"Select an author"}),s.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Published Year"}),m.jsx("input",{type:"number",value:y.published_year,onChange:N=>k({...y,published_year:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),m.jsx("textarea",{value:y.description,onChange:N=>k({...y,description:N.target.value}),rows:4,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description..."})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:g?"Update":"Create"}),m.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),m.jsx("div",{className:"grid gap-4",children:u.length===0?m.jsx("p",{className:"text-center text-slate-500 py-8",children:"No books found."}):u.map(N=>m.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:N.title}),m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:N.available?"Available":"Borrowed"})]}),m.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["by ",N.author?.name||"Unknown Author","  ",N.published_year]}),m.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["ISBN: ",N.isbn]}),m.jsx("p",{className:"text-slate-600",children:N.description||"No description available"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>B(N),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:m.jsx(th,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>L(N.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(rh,{className:"w-4 h-4"})})]})]})},N.id))})]})},Nm=()=>{const[u,n]=G.useState([]),[s,o]=G.useState(!0),[a,d]=G.useState(!1),[h,p]=G.useState({email:"",password:"",full_name:""}),[g,w]=G.useState("");G.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0);const T=await ea.getAll();n(T)}catch(T){w(T instanceof Error?T.message:"Failed to load users")}finally{o(!1)}},k=async T=>{T.preventDefault(),w("");try{await ea.create(h),d(!1),p({email:"",password:"",full_name:""}),y()}catch(I){w(I instanceof Error?I.message:"Failed to create user")}},j=()=>{d(!1),p({email:"",password:"",full_name:""}),w("")};return s?m.jsx("div",{className:"text-center py-8",children:"Loading users..."}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Users"}),!a&&m.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Ai,{className:"w-4 h-4"}),m.jsx("span",{children:"Add User"})]})]}),g&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:g}),a&&m.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"New User"}),m.jsx("button",{onClick:j,className:"text-slate-500 hover:text-slate-700",children:m.jsx(Ii,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:k,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name *"}),m.jsx("input",{type:"text",value:h.full_name,onChange:T=>p({...h,full_name:T.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Full name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),m.jsx("input",{type:"email",value:h.email,onChange:T=>p({...h,email:T.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"user@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password *"}),m.jsx("input",{type:"password",value:h.password,onChange:T=>p({...h,password:T.target.value}),required:!0,minLength:6,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create"}),m.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),m.jsx("div",{className:"grid gap-4",children:u.length===0?m.jsx("p",{className:"text-center text-slate-500 py-8",children:"No users found. Add your first user!"}):u.map(T=>m.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:T.full_name}),m.jsx("p",{className:"text-sm text-slate-600",children:T.email}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Joined ",new Date(T.created_at).toLocaleDateString()]})]})})},T.id))})]})},Pm=()=>{const[u,n]=G.useState([]),[s,o]=G.useState([]),[a,d]=G.useState([]),[h,p]=G.useState(!0),[g,w]=G.useState(!1),[y,k]=G.useState({book_id:"",user_id:"",due_days:14}),[j,T]=G.useState("");G.useEffect(()=>{I()},[]);const I=async()=>{try{p(!0);const[L,te,N]=await Promise.all([Bl.getAll(),os.getAll({available:!1}),ea.getAll()]);n(L),o(te),d(N)}catch(L){T(L instanceof Error?L.message:"Failed to load data")}finally{p(!1)}},U=async L=>{L.preventDefault(),T("");try{await Bl.borrow({book_id:y.book_id,user_id:y.user_id,due_days:y.due_days}),w(!1),k({book_id:"",user_id:"",due_days:14}),I()}catch(te){T(te instanceof Error?te.message:"Failed to borrow book")}},D=async L=>{if(confirm("Are you sure you want to return this book?"))try{await Bl.return(L),I()}catch(te){T(te instanceof Error?te.message:"Failed to return book")}},z=()=>{w(!1),k({book_id:"",user_id:"",due_days:14}),T("")};if(h)return m.jsx("div",{className:"text-center py-8",children:"Loading borrowings..."});const Z=u.filter(L=>!L.returned_at),B=u.filter(L=>L.returned_at);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Borrowing Management"}),!g&&m.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Ai,{className:"w-4 h-4"}),m.jsx("span",{children:"Borrow Book"})]})]}),j&&m.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:j}),g&&m.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Borrow a Book"}),m.jsx("button",{onClick:z,className:"text-slate-500 hover:text-slate-700",children:m.jsx(Ii,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"User *"}),m.jsxs("select",{value:y.user_id,onChange:L=>k({...y,user_id:L.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"",children:"Select a user"}),a.map(L=>m.jsxs("option",{value:L.id,children:[L.full_name," (",L.email,")"]},L.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Available Book *"}),m.jsxs("select",{value:y.book_id,onChange:L=>k({...y,book_id:L.target.value}),required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[m.jsx("option",{value:"",children:"Select a book"}),s.filter(L=>L.available).map(L=>m.jsxs("option",{value:L.id,children:[L.title," by ",L.author?.name||"Unknown"]},L.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Due in (days)"}),m.jsx("input",{type:"number",value:y.due_days,onChange:L=>k({...y,due_days:parseInt(L.target.value)}),min:"1",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Borrow"}),m.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Active Borrowings"}),m.jsx("div",{className:"grid gap-4",children:Z.length===0?m.jsx("p",{className:"text-center text-slate-500 py-8",children:"No active borrowings."}):Z.map(L=>m.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-semibold text-slate-800",children:L.book?.title}),m.jsxs("p",{className:"text-sm text-slate-600",children:["Borrowed by ",L.user?.full_name]}),m.jsxs("p",{className:"text-sm text-slate-600",children:["Due: ",new Date(L.due_date).toLocaleDateString()]})]}),m.jsxs("button",{onClick:()=>D(L.id),className:"flex items-center space-x-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:[m.jsx(Em,{className:"w-4 h-4"}),m.jsx("span",{children:"Return"})]})]})},L.id))})]}),B.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Returned Books"}),m.jsx("div",{className:"grid gap-4",children:B.map(L=>m.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-slate-800",children:L.book?.title}),m.jsxs("p",{className:"text-sm text-slate-600",children:["Borrowed by ",L.user?.full_name]}),m.jsxs("p",{className:"text-sm text-slate-500",children:["Returned: ",new Date(L.returned_at).toLocaleDateString()]})]})},L.id))})]})]})]})},Om=()=>{const{signOut:u,user:n}=Ri(),[s,o]=G.useState("books"),a=async()=>{try{await u()}catch(h){console.error("Error signing out:",h)}},d=[{id:"books",label:"Books",icon:Id},{id:"authors",label:"Authors",icon:km},{id:"users",label:"Users",icon:jm},{id:"borrowings",label:"Borrowings",icon:_m}];return m.jsxs("div",{className:"min-h-screen bg-slate-50",children:[m.jsx("nav",{className:"bg-white shadow-sm border-b border-slate-200",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Id,{className:"w-8 h-8 text-blue-600"}),m.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"Know Our History"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("span",{className:"text-sm text-slate-600",children:n?.email}),m.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-4 py-2 text-slate-700 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[m.jsx(Sm,{className:"w-4 h-4"}),m.jsx("span",{children:"Sign Out"})]})]})]})})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[m.jsx("div",{className:"border-b border-slate-200",children:m.jsx("div",{className:"flex space-x-1 p-4",children:d.map(h=>{const p=h.icon;return m.jsxs("button",{onClick:()=>o(h.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${s===h.id?"bg-blue-50 text-blue-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-50"}`,children:[m.jsx(p,{className:"w-4 h-4"}),m.jsx("span",{children:h.label})]},h.id)})})}),m.jsxs("div",{className:"p-6",children:[s==="books"&&m.jsx(Tm,{}),s==="authors"&&m.jsx(Cm,{}),s==="users"&&m.jsx(Nm,{}),s==="borrowings"&&m.jsx(Pm,{})]})]})})]})};function Rm(){const{user:u,loading:n}=Ri(),[s,o]=G.useState(!1);return n?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),m.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):u?m.jsx(Om,{}):s?m.jsx(vm,{onToggle:()=>o(!1)}):m.jsx(mm,{onToggle:()=>o(!0)})}cp.createRoot(document.getElementById("root")).render(m.jsx(G.StrictMode,{children:m.jsx(gm,{children:m.jsx(Rm,{})})}));
